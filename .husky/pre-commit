#!/bin/sh

# Skip on tmp/* branches (CLI micro-worktrees in /tmp with no node_modules)
BRANCH=$(git rev-parse --abbrev-ref HEAD 2>/dev/null)
case "$BRANCH" in tmp/*) exit 0 ;; esac

# WU-1061: docs-sync hook removed - docs regeneration now handled by wu:done

# WU-1170: Universal worktree discipline
"$(dirname "$0")/../scripts/hooks/validate-worktree-discipline.sh"
"$(dirname "$0")/../scripts/hooks/validate-paths.sh"
"$(dirname "$0")/../scripts/hooks/scan-secrets.sh"
"$(dirname "$0")/../scripts/hooks/check-lockfile.sh"

node "$(dirname "$0")/hooks/pre-commit.mjs"
