id: INIT-037
slug: enforcement-hardening
title: 'Enforcement Hardening: Close Guard Gaps and Eliminate Type Safety Bypasses'
description: 'Architecture and libraries are sound (9/10), but enforcement has holes. Good patterns
  exist (createError(), FILE_EXTENSIONS, WU_STATUS.*) but nothing forces their use. Three broken
  enforcement mechanisms: ESLint boundary rules match non-existent dirs, path/status guards miss
  agent+metrics packages, UnsafeAny bypasses no-explicit-any with 510 occurrences across 156
  production files. Strategy: add guardrails first, then fix violations so every fix is permanent.
  Plan: lumenflow://plans/wild-foraging-taco.md (WS1: Enforcement integrity; WS2: Debt reduction;
  WS3: Structural follow-through)'
status: done
priority: P1
owner: platform-team
created: 2026-02-24
phases:
  - id: 1
    title: 'Phase 0: Fix Broken Enforcement (WU-alpha, WU-beta, WU-gamma)'
    status: done
  - id: 2
    title: 'Phase 1: Add New Enforcement (WU-A through WU-E)'
    status: done
  - id: 3
    title: 'Phase 2: Fix Existing Violations (WU-F1/F2/F3 through WU-K)'
    status: done
  - id: 4
    title: 'Phase 3: Structural Improvements (WU-L through WU-P)'
    status: done
success_metrics:
  - Guard coverage includes all 7 runtime packages
  - UnsafeAny baseline trends downward each wave
  - throw new Error baseline trends downward each wave
  - No net increase in banned literal patterns
  - pnpm gates green after all phases
labels: []
wus:
  - WU-2130
  - WU-2131
