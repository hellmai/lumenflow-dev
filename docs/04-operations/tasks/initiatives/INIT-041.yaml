id: INIT-041
slug: wu-done-srp-decomposition
title: wu:done SRP Decomposition
description: Decompose wu:done into focused modules to reduce change risk in the highest-traffic WU
  completion path and align CLI orchestration with existing extracted core patterns.
status: in_progress
priority: P1
owner: tom@hellm.ai
created: 2026-02-25
phases:
  - id: 1
    title: 'Phase 1: Policy and git operation extraction'
    status: in_progress
  - id: 2
    title: 'Phase 2: Preflight and gates decomposition'
    status: pending
  - id: 3
    title: 'Phase 3: Thin orchestrator finalization'
    status: pending
success_metrics:
  - wu-done.ts reduced from ~3654 lines to <=1000
  - No behavior regressions across wu:done workflows
  - Gates and typecheck pass with extracted modules
  - No wu:done behavior regressions in worktree/branch-pr paths
  - pnpm gates passes after each extraction wave
labels: []
