id: INIT-024
slug: wu-brief-delegate-provenance-alignment
title: Align wu:spawn semantics with delegation provenance
description: Align command semantics, provenance recording, and enforcement so delegation tracking
  is accurate across clients and orchestration. Separate pure prompt generation from side-effectful
  delegation tracking, and evolve provenance from intent-only to intent-plus-pickup evidence.
status: in_progress
priority: P0
owner: 'Framework: CLI'
created: 2026-02-12
target_date: 2026-02-20
phases:
  - id: 1
    title: P0 correctness and semantics foundation
    status: done
  - id: 2
    title: 'Command decomposition: brief vs delegate'
    status: done
  - id: 3
    title: Execution-proof provenance handshake
    status: pending
  - id: 4
    title: Docs and migration alignment
    status: pending
success_metrics:
  - Codex and Claude client modes both persist delegation lineage when requested (no early-return
    drop).
  - Prompt generation is available as a pure command with no hidden side effects.
  - Delegation registry records intent via explicit side-effect command and is no longer conflated
    with prompt-only generation.
  - Completion enforcement can distinguish delegation intent from actual pickup evidence and
    supports audited overrides.
  - Internal docs and Starlight references are updated and docs drift check passes after
    command/provenance changes.
labels: []
wus:
  - WU-1601
  - WU-1602
  - WU-1603
  - WU-1604
  - WU-1605
  - WU-1606
