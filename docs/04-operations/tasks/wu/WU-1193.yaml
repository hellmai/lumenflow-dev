id: WU-1193
title: 'Orchestration cleanup: fix constants, rename init:plan, remove ghost commands'
lane: 'Framework: CLI'
type: refactor
status: done
priority: P2
created: 2026-01-29
code_paths:
  - packages/@lumenflow/core/src/domain/orchestration.constants.ts
  - packages/@lumenflow/cli/src/initiative-plan.ts
  - packages/@lumenflow/cli/src/__tests__/initiative-plan.test.ts
  - .claude/skills/orchestration/SKILL.md
  - apps/docs/src/content/docs/reference/cli.mdx
tests:
  manual:
    - Verify acceptance criteria met
  unit:
    - packages/@lumenflow/cli/src/__tests__/initiative-plan.test.ts
  e2e: []
artifacts:
  - .lumenflow/stamps/WU-1193.done
dependencies: []
risks: []
notes: |-
  ## Technical Analysis (from audit)

  ### 1. LANES Constant Mismatch
  Current (orchestration.constants.ts:22-28):
  - 'Intelligence', 'Experience', 'Core Systems', 'Operations', 'Discovery'

  Should be (.lumenflow.config.yaml):
  - 'Framework: Core', 'Framework: CLI', 'Framework: Memory', 'Framework: Agent'
  - 'Framework: Metrics', 'Framework: Initiatives', 'Framework: Shims'
  - 'Operations: Infrastructure', 'Operations: CI/CD', 'Content: Documentation'

  ### 2. MANDATORY_TRIGGERS (obsolete ExampleApp paths)
  Current triggers reference non-existent paths:
  - security-auditor: supabase/migrations/**, **/auth/**, **/rls/**
  - lumenflow-guardian: **/prompts/**, **/classification/**, **/detector/**

  Options: Update with LumenFlow paths OR remove if mandatory agents not used.
  Check orchestration-advisory.ts to see if triggers are actually used.

  ### 3. Ghost Commands
  Skills reference commands that don't exist:
  - pnpm orchestrate:status (NOT IMPLEMENTED)
  - pnpm orchestrate:suggest --wu WU-XXX (NOT IMPLEMENTED)

  Actual commands: orchestrate:initiative, orchestrate:init-status, orchestrate:monitor

  ### 4. Sizing
  Complexity: Medium (20-25 files, ~70 tool calls)
  Strategy: Checkpoint-Resume
  - Phase 1: Code changes (constants, rename) → commit
  - Phase 2: Documentation updates → commit → wu:done
requires_review: false
claimed_mode: worktree
assigned_to: tom@hellm.ai
claimed_at: 2026-01-29T14:37:25.258Z
worktree_path: /home/USER/source/hellmai/os/worktrees/framework-cli-wu-1193
session_id: e7342e72-3968-42b8-ad4b-41f013c8799d
exposure: backend-only
escalation_triggers: []
requires_human_escalation: false
approved_by:
  - tom@hellm.ai
approved_at: 2026-01-29T14:37:25.264Z
requires_cso_approval: false
requires_cto_approval: false
requires_design_approval: false
description: 'Clean up orchestration technical debt from ExampleApp extraction: fix LANES constant
  mismatch, update/remove obsolete MANDATORY_TRIGGERS, rename init:plan to initiative:plan for
  consistency, and remove ghost commands (orchestrate:status, orchestrate:suggest) from skills and
  docs.'
acceptance:
  - LANES constant in orchestration.constants.ts matches .lumenflow.config.yaml definitions
  - MANDATORY_TRIGGERS updated with LumenFlow-relevant paths or removed if not applicable
  - init:plan command renamed to initiative:plan (source, test, package.json)
  - Ghost commands (orchestrate:status, orchestrate:suggest) removed from all skills
  - All skill templates in packages/@lumenflow/cli/templates/ updated
  - Starlight CLI reference updated (apps/docs/src/content/docs/reference/cli.mdx)
  - All gates pass (pnpm gates)
locked: true
completed_at: 2026-01-29T14:59:27.656Z
