id: WU-1588
title: 'Core strict wave 2E: remaining fixes and strict enablement'
lane: 'Framework: Core Validation'
type: refactor
status: ready
priority: P1
created: 2026-02-10
code_paths:
  - packages/@lumenflow/core/src/system-map-validator.ts
  - packages/@lumenflow/core/src/adapters/context-adapters.ts
  - packages/@lumenflow/core/tsconfig.json
  - tools/__tests__/tsconfig-strict.test.ts
tests:
  manual:
    - pnpm --filter @lumenflow/core typecheck and pnpm vitest run tools/__tests__/tsconfig-strict.test.ts
  unit:
    - packages/@lumenflow/core/src/__tests__/validators/system-map-validator.test.ts
    - packages/@lumenflow/core/src/__tests__/adapters/context-adapters.test.ts
    - tools/__tests__/tsconfig-strict.test.ts
  e2e: []
artifacts:
  - .lumenflow/stamps/WU-1588.done
dependencies: []
initiative: INIT-022
phase: 10
blocked_by:
  - WU-1587
risks: []
notes: (auto) Add implementation notes, rollout context, or a short summary of the plan/conversation.
requires_review: false
assigned_to: tom@hellm.ai
exposure: backend-only
escalation_triggers: []
requires_human_escalation: false
requires_cso_approval: false
requires_cto_approval: false
requires_design_approval: false
description: 'Context: final strict debt in core is distributed across remaining low-error modules and strict exception config. Problem: strict cannot be enabled until tail-end files are remediated and strict exception metadata is removed. Solution: finish remaining strict fixes, flip strict=true for core, and update strict exception tests/tooling to enforce the new baseline.'
acceptance:
  - Remaining targeted core files are strict-clean with explicit types and safe narrowing
  - packages/@lumenflow/core/tsconfig.json sets strict=true and removes strict exception metadata
  - tools strict-mode tests are updated to reflect core strict enablement
  - pnpm --filter @lumenflow/core typecheck passes with strict enabled
  - No net increase in as any usage in core
