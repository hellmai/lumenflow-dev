id: WU-1364
title: Improve greenfield onboarding with initiative-first workflow
lane: 'Framework: CLI'
type: feature
status: ready
priority: P1
created: 2026-02-02
code_paths:
  - packages/@lumenflow/cli/src/init.ts
  - docs/04-operations/_frameworks/lumenflow/agent/onboarding/starting-prompt.md
  - LUMENFLOW.md
  - packages/@lumenflow/cli/src/wu-create.ts
tests:
  manual:
    - Run lumenflow init in empty folder, verify initial commit exists
    - Run lumenflow init without remote, verify git.requireRemote=false in config
    - Verify init output shows initiative-first guidance
    - Verify wu:create with --no-strict works immediately after init
    - Verify starting-prompt.md has greenfield initiative workflow
  unit:
    - packages/@lumenflow/cli/src/__tests__/init.test.ts
    - packages/@lumenflow/cli/src/__tests__/init-onboarding-docs.test.ts
  e2e: []
artifacts:
  - .lumenflow/stamps/WU-1364.done
dependencies: []
risks: []
notes: ''
requires_review: false
assigned_to: tom@hellm.ai
exposure: documentation
escalation_triggers: []
requires_human_escalation: false
requires_cso_approval: false
requires_cto_approval: false
requires_design_approval: false
description: "Context: LumenFlow 2.7.0 test revealed agents fail to properly bootstrap greenfield projects from product visions. Problem: (1) No guidance to create Initiatives from visions - agent created 7 orphan WUs instead of INIT-1 with phased WUs, (2) Agent told user to create WUs themselves, (3) wu:create fails with HEAD error (no initial commit), (4) wu:create fails with origin error (no remote), (5) Lane validation rejects intuitive names like 'Core: Platform', (6) CLI flag discoverability poor (agent guessed --unit-tests instead of --test-paths-unit). Solution: Update init output to show initiative-first workflow, add 'When Starting From Product Vision' section to starting-prompt.md, auto-commit after init, auto-detect local-only mode, improve default lane-inference template with Core/Feature parents, handle prettier gracefully in micro-worktrees."
acceptance:
  - Init output includes initiative-first workflow guidance for product visions
  - starting-prompt.md has 'When Starting From Product Vision' section with 4-step initiative workflow
  - Init auto-creates initial commit when git repo has no commits
  - Init auto-sets git.requireRemote=false when no remote configured
  - Default lane-inference template includes Core and Feature as parent lanes
  - LUMENFLOW.md mentions initiatives and when to use them
  - Prettier errors in micro-worktrees are warnings not failures
