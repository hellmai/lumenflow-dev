id: WU-1467
title: Eliminate preflight/enforcement drift from tasks validate and stubbed gates
lane: 'Framework: Core'
type: refactor
status: ready
priority: P1
created: 2026-02-05
code_paths:
  - package.json
  - packages/@lumenflow/core/src/wu-done-preflight.ts
  - packages/@lumenflow/core/src/wu-constants.ts
  - packages/@lumenflow/cli/src/gates.ts
tests:
  manual: []
  unit:
    - packages/@lumenflow/core/src/__tests__/wu-done-preflight.test.ts
    - packages/@lumenflow/cli/src/__tests__/gates-config.test.ts
  e2e: []
artifacts:
  - .lumenflow/stamps/WU-1467.done
dependencies: []
initiative: INIT-014
phase: 5
spec_refs:
  - docs/04-operations/plans/INIT-014-rollout-1-launch-readiness-har.md
risks: []
notes: (auto) Add implementation notes, rollout context, or a short summary of the plan/conversation.
requires_review: false
assigned_to: tom@hellm.ai
exposure: backend-only
escalation_triggers: []
requires_human_escalation: false
requires_cso_approval: false
requires_cto_approval: false
requires_design_approval: false
description: 'Context: root scripts still expose stubbed tasks:validate, prompts:lint, and cos:gates messages while wu:done preflight and gate flows now run real validation paths in code. Problem: command naming and enforcement behavior diverge, creating operator confusion and false confidence risk. Solution: align script surfaces and runtime preflight behavior so invoked commands correspond to real checks or are explicitly removed from enforced paths.'
acceptance:
  - tasks:validate command behavior is consistent with wu:done preflight validation
  - prompts:lint and cos:gates are either implemented with real checks or removed from enforced gate flows
  - Gate and preflight output clearly indicate which checks are authoritative
  - Unit tests cover the updated preflight and gates command behavior
