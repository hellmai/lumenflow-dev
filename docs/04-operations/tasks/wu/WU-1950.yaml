id: WU-1950
title: '[WU-G] Registry manifest extraction + marketplace trust rendering'
lane: 'Operations: Runtime'
type: feature
status: ready
priority: P0
created: 2026-02-20
code_paths:
  - apps/web/src/server/pack-registry-handlers.ts
  - apps/web/src/lib/pack-registry-types.ts
  - apps/web/src/components/marketplace-pack-detail-live.tsx
  - apps/web/src/components/marketplace-browse-live.tsx
tests:
  manual:
    - Publish a pack tarball and verify trust metadata appears in marketplace detail and browse
  unit:
    - apps/web/__tests__/marketplace-pack-detail.test.tsx
    - apps/web/__tests__/marketplace-browse.test.tsx
  e2e: []
artifacts:
  - .lumenflow/stamps/WU-1950.done
dependencies: []
initiative: INIT-032
phase: 2
blocked_by:
  - WU-1945
spec_refs:
  - /home/USER/.claude/plans/curious-skipping-robin.md
risks: []
notes: (auto) Add implementation notes, rollout context, or a short summary of the plan/conversation.
requires_review: false
assigned_to: tom@hellm.ai
exposure: api
escalation_triggers: []
requires_human_escalation: false
requires_cso_approval: false
requires_cto_approval: false
requires_design_approval: false
description: Derive manifest summary server-side from uploaded pack tarballs and render that metadata with trust badges in marketplace surfaces to prevent spoofed client metadata and improve operator trust.
acceptance:
  - Publish pipeline extracts manifest.yaml from tarball server-side and stores parsed manifest_summary
  - Client-submitted manifest summary fields are ignored/rejected in favor of server-derived values
  - Marketplace detail/browse render real tools/policies/categories plus trust badges from manifest_summary
