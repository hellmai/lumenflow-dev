id: WU-2134
title: Stabilize initiatives tests under config-driven path resolution
lane: 'Framework: Core Lifecycle'
type: bug
status: in_progress
priority: P0
created: 2026-02-24
code_paths:
  - packages/@lumenflow/initiatives/__tests__/initiative-yaml.test.ts
  - packages/@lumenflow/initiatives/__tests__/orchestrate-initiative.test.ts
  - packages/@lumenflow/initiatives/__tests__/initiative-orchestrator.test.ts
tests:
  manual:
    - Run pnpm --filter @lumenflow/initiatives exec vitest run __tests__/initiative-yaml.test.ts
      __tests__/orchestrate-initiative.test.ts __tests__/initiative-orchestrator.test.ts and verify
      all targeted suites pass
  unit:
    - packages/@lumenflow/initiatives/__tests__/initiative-yaml.test.ts
    - packages/@lumenflow/initiatives/__tests__/orchestrate-initiative.test.ts
    - packages/@lumenflow/initiatives/__tests__/initiative-orchestrator.test.ts
  e2e: []
artifacts:
  - .lumenflow/stamps/WU-2134.done
dependencies: []
initiative: INIT-037
phase: 4
spec_refs:
  - /home/tom/.claude/plans/wild-foraging-taco.md
risks: []
notes: (auto) Add implementation notes, rollout context, or a short summary of the plan/conversation.
requires_review: false
assigned_to: tom@hellm.ai
exposure: backend-only
escalation_triggers: []
requires_human_escalation: false
requires_cso_approval: false
requires_cto_approval: false
requires_design_approval: false
description: Restore enterprise-grade reliability in the initiatives package by removing legacy
  hardcoded fixture paths in tests that conflict with config-driven runtime paths. The current
  mismatch causes initiative discovery to return empty sets and breaks multiple orchestration tests
  in pnpm gates.
acceptance:
  - Initiatives tests construct fixture directories from runtime config contracts rather than legacy
    hardcoded docs/04-operations paths
  - Initiative discovery and checkpoint-wave orchestration test assertions pass under current
    config-driven path resolution
  - Existing orchestrator command-generation assertions remain strict and unchanged
  - Targeted initiatives test suites execute green
claimed_mode: worktree
worktree_path: /home/tom/source/hellmai/os/worktrees/framework-core-lifecycle-wu-2134
claimed_at: 2026-02-24T23:45:19.643Z
baseline_main_sha: 41d6046db2d3468adacbb890bb90ef38982f12c3
session_id: e07d6019-cc74-4b76-adb0-d6846748263c
approved_by:
  - tom@hellm.ai
approved_at: 2026-02-24T23:45:19.647Z
