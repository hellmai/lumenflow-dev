id: WU-1817
title: Create HTTP surface with SSE event streaming and REST task API
lane: 'Framework: MCP'
type: feature
status: done
priority: P1
created: 2026-02-18
code_paths:
  - packages/@lumenflow/surfaces/http/
tests:
  manual:
    - Start HTTP surface, POST /tasks to create task, GET SSE stream to see events
  unit:
    - packages/@lumenflow/surfaces/__tests__/http-surface.test.ts
  e2e: []
artifacts:
  - .lumenflow/stamps/WU-1817.done
dependencies: []
initiative: INIT-031
phase: 1
blocked_by:
  - WU-1816
spec_refs:
  - .claude/plans/zazzy-growing-cook.md
risks: []
notes: (auto) Add implementation notes, rollout context, or a short summary of the plan/conversation.
requires_review: false
assigned_to: tom@hellm.ai
exposure: api
escalation_triggers: []
requires_human_escalation: false
requires_cso_approval: false
requires_cto_approval: false
requires_design_approval: false
description: 'Create packages/@lumenflow/surfaces/http/ following the established surfaces pattern.
  SSE endpoint tails EventStore via subscribe mechanism (WU-1816). REST handlers for GET /tasks/:id
  (inspect), POST /tasks (create), POST /tasks/:id/claim, POST /tasks/:id/complete.
  Framework-agnostic Node http handlers. createHttpSurface(runtime: KernelRuntime) entry point.'
acceptance:
  - createHttpSurface(runtime) returns handlers compatible with Node http module
  - SSE endpoint streams KernelEvents as newline-delimited JSON
  - REST endpoints delegate to KernelRuntime methods
  - Follows same adapter pattern as surfaces/mcp/ and surfaces/cli/
claimed_mode: worktree
worktree_path: /home/USER/source/hellmai/os/worktrees/framework-mcp-wu-1817
claimed_at: 2026-02-18T16:29:33.661Z
baseline_main_sha: d6ec09266a0a35543a0654ce2bc5b78529cbddbf
session_id: a2d616f0-70e7-426a-857d-7c0aa0b80eee
approved_by:
  - tom@hellm.ai
approved_at: 2026-02-18T16:29:33.669Z
locked: true
completed_at: 2026-02-18T16:39:05.913Z
completed: 2026-02-18
