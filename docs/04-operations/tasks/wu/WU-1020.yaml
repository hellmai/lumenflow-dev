id: WU-1020
title: Fix TypeScript error in metrics-snapshot.ts for readonly array cast
lane: CLI
type: bugfix
status: ready
priority: P2
created: 2026-01-19
code_paths:
  - packages/@lumenflow/cli/src/metrics-snapshot.ts
tests:
  manual: []
  unit: []
  e2e: []
artifacts:
  - .beacon/stamps/WU-1020.done
dependencies: []
risks: []
notes: ''
requires_review: false
assigned_to: tom@hellm.ai
escalation_triggers: []
requires_human_escalation: false
requires_cso_approval: false
requires_cto_approval: false
requires_design_approval: false
description: |
  Fix TypeScript compilation error in metrics-snapshot.ts caused by readonly array cast.

  Context: The simple-git library returns `logResult.all` as a readonly array type
  `readonly (DefaultLogFields & ListLogLine)[]`.

  Problem: Casting directly to `GitLogEntry[]` fails because TypeScript cannot cast
  a readonly array to a mutable array type.

  Solution: Spread the readonly array into a new mutable array before casting:
  `[...logResult.all] as GitLogEntry[]`
acceptance:
  - TypeScript compilation succeeds without errors in metrics-snapshot.ts
  - pnpm typecheck passes for @lumenflow/cli package
  - pnpm format, lint, typecheck passes
