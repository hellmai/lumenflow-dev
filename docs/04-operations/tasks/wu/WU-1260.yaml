id: WU-1260
title: Create methodology and architecture template directories
lane: 'Framework: Core'
type: feature
status: done
priority: P2
created: 2026-01-30
code_paths:
  - .lumenflow/templates/spawn-prompt/methodology/
  - .lumenflow/templates/spawn-prompt/architecture/
  - .lumenflow/templates/manifest.yaml
  - packages/@lumenflow/core/src/template-loader.ts
tests:
  manual:
    - Verify acceptance criteria met
  unit:
    - packages/@lumenflow/core/src/__tests__/template-loader.test.ts
  e2e: []
artifacts:
  - .lumenflow/stamps/WU-1260.done
dependencies: []
initiative: INIT-009
phase: 2
spec_refs:
  - ~/.claude/plans/linear-moseying-comet.md
risks: []
notes: Completed per acceptance criteria.
requires_review: false
assigned_to: tom@hellm.ai
exposure: backend-only
escalation_triggers: []
requires_human_escalation: false
requires_cso_approval: false
requires_cto_approval: false
requires_design_approval: false
description: >-
  Create the methodology-specific and architecture-specific template directories under
  .lumenflow/templates/spawn-prompt/. These templates are selected based on the resolved methodology
  policy.


  Structure:

  - methodology/tdd-directive.md (RED-GREEN-REFACTOR, test-first)

  - methodology/test-after-directive.md (impl-first OK, tests before done)

  - methodology/none-directive.md (minimal guidance)

  - architecture/hexagonal-directive.md (ports-first, no appâ†’infra imports)

  - architecture/layered-directive.md (traditional layers)

  - architecture/none-directive.md (no architecture guidance)


  Client override convention: .lumenflow/templates.{clientName}/ where clientName matches the
  agents.defaultClient config value (e.g., claude-code, cursor, custom-agent). This is
  vendor-agnostic - any client can have overrides.
acceptance:
  - methodology/ directory created with tdd, test-after, none directive templates
  - architecture/ directory created with hexagonal, layered, none directive templates
  - Client-specific override directories verified for Claude and Cursor (already existed)
  - manifest.yaml updated with methodology-conditional entries using policy.testing
  - Existing TDD directive content migrated to new location
claimed_mode: worktree
worktree_path: /home/tom/source/hellmai/os/worktrees/framework-core-wu-1260
claimed_at: 2026-01-30T19:40:51.272Z
baseline_main_sha: 7dac4cc2dd5757925ac395554a87929ceb678dc9
session_id: d5c44d7a-fe06-489d-bead-52d42ca0b09d
approved_by:
  - tom@hellm.ai
approved_at: 2026-01-30T19:40:51.279Z
locked: true
completed_at: 2026-01-30T19:50:11.580Z
