id: WU-1260
title: Create methodology and architecture template directories
lane: 'Framework: Core'
type: feature
status: ready
priority: P2
created: 2026-01-30
code_paths:
  - .lumenflow/templates/spawn-prompt/methodology/
  - .lumenflow/templates/spawn-prompt/architecture/
  - .lumenflow/templates.claude/
  - .lumenflow/templates.cursor/
  - .lumenflow/templates/manifest.yaml
  - .lumenflow/templates/spawn-prompt/methodology/
  - .lumenflow/templates/spawn-prompt/architecture/
  - .lumenflow/templates/manifest.yaml
tests:
  manual: []
  unit:
    - packages/@lumenflow/core/src/__tests__/template-loader.test.ts
  e2e: []
artifacts:
  - .lumenflow/stamps/WU-1260.done
dependencies: []
initiative: INIT-009
phase: 2
spec_refs:
  - ~/.claude/plans/linear-moseying-comet.md
risks: []
notes: ''
requires_review: false
assigned_to: tom@hellm.ai
exposure: backend-only
escalation_triggers: []
requires_human_escalation: false
requires_cso_approval: false
requires_cto_approval: false
requires_design_approval: false
description: >-
  Create the methodology-specific and architecture-specific template directories under
  .lumenflow/templates/spawn-prompt/. These templates are selected based on the resolved methodology
  policy.


  Structure:

  - methodology/tdd-directive.md (RED-GREEN-REFACTOR, test-first)

  - methodology/test-after-directive.md (impl-first OK, tests before done)

  - methodology/none-directive.md (minimal guidance)

  - architecture/hexagonal-directive.md (ports-first, no appâ†’infra imports)

  - architecture/layered-directive.md (traditional layers)

  - architecture/none-directive.md (no architecture guidance)


  Client override convention: .lumenflow/templates.{clientName}/ where clientName matches the
  agents.defaultClient config value (e.g., claude-code, cursor, custom-agent). This is
  vendor-agnostic - any client can have overrides.
acceptance:
  - methodology/ directory created with tdd, test-after, none directive templates
  - architecture/ directory created with hexagonal, layered, none directive templates
  - Client-specific override directories created for Claude and Cursor
  - manifest.yaml updated with methodology-conditional entries using policy.testing
  - Existing TDD directive content migrated to new location
