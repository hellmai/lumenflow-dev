id: WU-1254
title: Extract hardcoded prompt templates to .lumenflow/templates/
lane: 'Framework: Core'
type: feature
status: ready
priority: P1
created: 2026-01-30
code_paths:
  - packages/@lumenflow/core/src/wu-spawn.ts
  - packages/@lumenflow/core/src/template-loader.ts
  - .lumenflow/templates/manifest.yaml
tests:
  manual: []
  unit:
    - packages/@lumenflow/core/src/__tests__/template-loader.test.ts
  e2e: []
artifacts:
  - .lumenflow/stamps/WU-1254.done
dependencies: []
risks: []
notes: ''
requires_review: false
assigned_to: tom@hellm.ai
exposure: backend-only
escalation_triggers: []
requires_human_escalation: false
requires_cso_approval: false
requires_cto_approval: false
requires_design_approval: false
description: 'Context: wu-spawn.ts and init.ts have ~3000 lines of hardcoded markdown templates as string literals. This makes content hard to maintain, review, and customize. Problem: Templates mixed with code, no project-level overrides, massive files. Solution: Extract templates to .lumenflow/templates/ with manifest.yaml for assembly order. Design for extensibility so INIT-009 (Methodology Configurability) can add methodology-specific templates later. NOT in scope: methodology config schema, resolvePolicy(), methodology-specific templates. Reference: ~/.claude/plans/linear-moseying-comet.md'
acceptance:
  - Template file structure created (.lumenflow/templates/spawn-prompt/)
  - manifest.yaml defines section order and required/optional flags
  - wu:spawn reads templates from files instead of hardcoded strings
  - Client-specific overrides supported (.lumenflow/templates.claude/ etc)
  - Extensible design supports conditional template inclusion for future methodology selection
  - Existing wu:spawn output unchanged (behavioral parity)
  - Unit tests cover template loading and assembly
