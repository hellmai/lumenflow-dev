id: WU-2042
title: Finalize kernel-first parity in tests and docs
lane: 'Framework: Core Lifecycle'
type: bug
status: done
priority: P1
created: 2026-02-22
code_paths:
  - packages/@lumenflow/cli/__tests__
  - packages/@lumenflow/cli/src/__tests__
  - packages/@lumenflow/cli/e2e
  - packages/@lumenflow/core/src/__tests__
tests:
  manual:
    - rg -n '\.lumenflow\.config\.yaml' apps/docs/src/content/docs
      docs/04-operations/_frameworks/lumenflow
    - rg -n '\.lumenflow\.config\.yaml' packages/@lumenflow/**/__tests__ packages/@lumenflow/**/e2e
    - pnpm --filter @lumenflow/docs build
  unit:
    - packages/@lumenflow/cli/__tests__/doctor-output.test.ts
    - packages/@lumenflow/core/src/__tests__/kernel-first-config-parity.test.ts
    - packages/@lumenflow/core/src/__tests__/path-centralization.test.ts
  e2e:
    - packages/@lumenflow/cli/e2e/claude-enforcement.test.ts
artifacts:
  - .lumenflow/stamps/WU-2042.done
dependencies: []
risks: []
notes: (auto) Add implementation notes, rollout context, or a short summary of the plan/conversation.
requires_review: false
assigned_to: tom@hellm.ai
exposure: documentation
escalation_triggers: []
requires_human_escalation: false
requires_cso_approval: false
requires_cto_approval: false
requires_design_approval: false
description: 'Context: runtime is workspace-first, but test fixtures and documentation still contain
  legacy .lumenflow.config.yaml references that no longer reflect current contract. Problem: this
  creates drift between implementation reality and guidance/verification surfaces. Solution: remove
  or rewrite remaining non-historical references in tests and active docs to workspace.yaml
  software_delivery contract, and verify parity with repeatable scans.'
acceptance:
  - No active runtime-adjacent test suites (packages/@lumenflow/**/__tests__,
    packages/@lumenflow/**/e2e) reference .lumenflow.config.yaml.
  - Internal framework docs and public Starlight docs describe workspace.yaml software_delivery as
    canonical and do not present .lumenflow.config.yaml as current behavior.
  - Verification commands for docs and touched tests pass in gates context.
claimed_mode: worktree
worktree_path: /home/USER/source/hellmai/os/worktrees/framework-core-lifecycle-wu-2042
claimed_at: 2026-02-22T15:55:29.471Z
baseline_main_sha: 9ea39c4b302ce8e1918037e1bc52dbbe2dfa2b99
session_id: cc516dbc-54f6-449a-8243-84e24b8a98f2
approved_by:
  - tom@hellm.ai
approved_at: 2026-02-22T15:55:29.475Z
locked: true
completed_at: 2026-02-22T16:06:57.528Z
completed: 2026-02-22
