id: WU-1142
title: Make wu:spawn prompts type-aware for testing requirements
lane: 'Framework: CLI'
type: tooling
status: ready
priority: P2
created: 2026-01-27
code_paths:
  - packages/@lumenflow/cli/templates/
tests:
  manual: []
  unit:
    - packages/@lumenflow/cli/__tests__/wu-spawn.test.ts
  e2e: []
artifacts:
  - .lumenflow/stamps/WU-1142.done
dependencies: []
risks: []
notes: ''
requires_review: false
assigned_to: tom@hellm.ai
exposure: backend-only
escalation_triggers: []
requires_human_escalation: false
requires_cso_approval: false
requires_cto_approval: false
requires_design_approval: false
description: "Current spawn prompts apply TDD mandate to ALL WUs regardless of type. This is wrong for: (1) documentation WUs - no tests needed, (2) visual design WUs - can't test 'looks premium', (3) config changes. The spawn prompt should conditionally include TDD based on WU type and lane, with different test requirements: logic bugs → unit tests, visual design → smoke + manual QA, documentation → format check only."
acceptance:
  - Spawn prompt omits TDD directive for type=documentation WUs
  - Spawn prompt omits TDD directive for visual/design WUs (new type or lane detection)
  - Spawn prompt includes appropriate test guidance per WU type
  - Add smoke test guidance for UI component WUs
  - byLane skills config is respected in mandatory standards section
