id: WU-2260
title: 'INIT-047 review follow-ups: silent catch, loose type, redundant error'
lane: 'Framework: CLI WU Commands'
type: bug
status: ready
priority: P3
created: 2026-02-27
code_paths:
  - packages/@lumenflow/cli/src/wu-recover.ts
  - packages/@lumenflow/cli/src/state-emit.ts
tests:
  manual: []
  unit:
    - packages/@lumenflow/cli/__tests__/init-047-review-followups.test.ts
  e2e: []
artifacts:
  - .lumenflow/stamps/WU-2260.done
dependencies: []
initiative: INIT-047
risks: []
notes: ''
requires_review: false
assigned_to: tom@hellm.ai
exposure: backend-only
escalation_triggers: []
requires_human_escalation: false
requires_cso_approval: false
requires_cto_approval: false
requires_design_approval: false
description: 'Code review of INIT-047 found three minor issues: (1) WU-2249 checkWorktreeForDirtyFiles swallows all errors silently, risking data loss if git status fails for non-trivial reasons. (2) WU-2241 emitCorrectiveEvent accepts ValidEmitType|string, weakening compile-time safety. (3) WU-2238 prints redundant error: detailed warning then die() message.'
acceptance:
  - checkWorktreeForDirtyFiles catch block logs a warning before returning empty array
  - emitCorrectiveEvent type parameter uses ValidEmitType only, string accepted only at CLI parse layer
  - wu:recover reset prints either the detailed warning or the die message, not both
