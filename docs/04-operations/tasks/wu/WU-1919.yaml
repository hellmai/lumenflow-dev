id: WU-1919
title: Pack Publishing Pipeline Fixes
lane: 'Framework: CLI Orchestration'
type: bug
status: ready
priority: P0
created: 2026-02-20
code_paths:
  - packages/@lumenflow/cli/src/pack-publish.ts
  - packages/@lumenflow/cli/src/pack-search.ts
  - packages/@lumenflow/cli/src/public-manifest.ts
tests:
  manual:
    - End-to-end pack:publish to pack:install flow
  unit:
    - packages/@lumenflow/cli/src/__tests__/pack-publish.test.ts
  e2e: []
artifacts:
  - .lumenflow/stamps/WU-1919.done
dependencies: []
initiative: INIT-031
phase: 7
risks: []
notes: 'Sizing: MEDIUM (~36 calls, 8 files). Strategy: Single Session. Shallow multi-file wiring fixes.'
requires_review: false
assigned_to: tom@hellm.ai
exposure: api
escalation_triggers: []
requires_human_escalation: false
requires_cso_approval: false
requires_cto_approval: false
requires_design_approval: false
description: 'B-API: CLI uses wrong API paths. B-CTYPE: HTTP method and Content-Type mismatch.
  B-PKCATALOG: /packs page calls wrong endpoint. B-PKDET: Pack detail hardcodes empty arrays.
  B-INSTCMD: Wrong install syntax. B-LHOST: Hardcoded localhost. B-MANIF: Pack CLI commands missing
  from public manifest.'
acceptance:
  - pack:publish sends POST multipart/form-data to /api/registry/packs
  - pack:search queries /api/registry/packs/search
  - /packs page calls /api/registry/packs
  - Pack detail wires tools and policies from manifest
  - DEFAULT_REGISTRY_URL consistent across all files
  - All 6 pack CLI commands in public manifest
