id: WU-1689
title: Fix missing shebangs in CLI dist bin scripts
lane: 'Framework: CLI WU Commands'
type: bug
status: in_progress
priority: P1
created: 2026-02-15
code_paths:
  - packages/@lumenflow/cli/package.json
  - packages/@lumenflow/cli/src/init.ts
  - packages/@lumenflow/cli/scripts/check-shebangs.mjs
tests:
  manual:
    - Run npx -p @lumenflow/cli lumenflow init in /tmp fresh dir
    - Verify all bin entries listed in package.json have shebang in dist
  unit:
    - packages/@lumenflow/cli/src/__tests__/check-shebangs.test.ts
  e2e: []
artifacts:
  - .lumenflow/stamps/WU-1689.done
dependencies: []
risks: []
notes: (auto) Add implementation notes, rollout context, or a short summary of the plan/conversation.
requires_review: false
claimed_mode: worktree
assigned_to: tom@hellm.ai
claimed_at: 2026-02-15T15:16:23.058Z
worktree_path: /home/tom/source/hellmai/os/worktrees/framework-cli-wu-commands-wu-1689
session_id: fbfcfaca-eac1-4615-91ae-b249623b310c
exposure: backend-only
escalation_triggers: []
requires_human_escalation: false
approved_by:
  - tom@hellm.ai
approved_at: 2026-02-15T15:16:23.065Z
requires_cso_approval: false
requires_cto_approval: false
requires_design_approval: false
description: Several bin entry scripts in @lumenflow/cli are missing the shebang line (init.js,
  doctor.js, commands.js, docs-sync.js, sync-templates.js). This causes npx execution to fail
  because the OS tries to interpret JavaScript as bash. The Medium launch article tells users to run
  npx lumenflow init which hits this bug.
acceptance:
  - All bin entry scripts in package.json have shebang in dist output
  - npx -p @lumenflow/cli lumenflow init works in a fresh directory
  - Build pipeline ensures shebangs are added to all bin scripts going forward
