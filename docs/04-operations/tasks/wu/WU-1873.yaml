id: WU-1873
title: Workspace selector with recent-workspaces history
lane: 'Content: Site Comms'
type: feature
status: in_progress
priority: P2
created: 2026-02-18
code_paths:
  - apps/web/src/components/workspace-selector.tsx
navigation_path: /
tests:
  manual:
    - Navigate to / and verify workspace selector dropdown is accessible
    - Verify dropdown shows recent workspaces after connecting
  unit:
    - apps/web/__tests__/workspace-selector.test.tsx
  e2e: []
artifacts:
  - .lumenflow/stamps/WU-1873.done
dependencies: []
initiative: INIT-031
phase: 5
spec_refs:
  - .claude/plans/partitioned-sprouting-nest.md
risks: []
notes: 'Sizing: Simple (S). ~5-8 files, ~20 tool calls. Strategy: Single Session. Wave 5b (parallel
  with 5.2).'
requires_review: false
assigned_to: tom@hellm.ai
exposure: ui
escalation_triggers: []
requires_human_escalation: false
requires_cso_approval: false
requires_cto_approval: false
requires_design_approval: false
description: 'Context: WorkspacePathPrompt in workspace-connector.tsx is a bare text input. Problem:
  Poor UX for returning users who switch between workspaces. Solution: Replace with dropdown of
  recent workspaces from localStorage as { path, name, lastUsed }[]. Capped at 5 entries. Add
  workspace option opens path input.'
acceptance:
  - Workspace selector dropdown shows up to 5 recent workspaces sorted by lastUsed
  - Selecting a workspace from dropdown triggers onConnect with that path
  - Add workspace option opens text input for new workspace path
  - Recent workspaces persisted in localStorage, capped at 5 entries
  - 'Backward compatible: first-time users see Add workspace flow'
claimed_mode: worktree
worktree_path: /home/tom/source/hellmai/os/worktrees/content-site-comms-wu-1873
claimed_at: 2026-02-18T23:35:40.611Z
baseline_main_sha: c00a0a1a6b8c713b47becb6a96cfb0c05955b3fa
session_id: 7fd8102b-29dd-4c75-aa56-a247e2e6eaa8
approved_by:
  - tom@hellm.ai
approved_at: 2026-02-18T23:35:40.615Z
