id: WU-1924
title: Mount PolicyDecisionOverlay and Scope Visualization
lane: 'Content: Site Comms'
type: bug
status: ready
priority: P1
created: 2026-02-20
code_paths:
  - apps/web/src/hooks/use-task-events.ts
  - apps/web/src/components/task-dashboard.tsx
  - apps/web/src/components/policy-decision-overlay.tsx
tests:
  manual:
    - Policy denial renders scope intersection with real data
  unit:
    - apps/web/__tests__/policy-decision-overlay.test.tsx
  e2e: []
artifacts:
  - .lumenflow/stamps/WU-1924.done
dependencies: []
initiative: INIT-031
phase: 7
blocked_by:
  - WU-1918
risks: []
notes: 'Sizing: SIMPLE-MEDIUM (~24 calls, 7 files). Strategy: Single Session. Blocked by WU-1918 (SSE + traces).'
requires_review: false
assigned_to: tom@hellm.ai
exposure: ui
escalation_triggers: []
requires_human_escalation: false
requires_cso_approval: false
requires_cto_approval: false
requires_design_approval: false
description: 'H-OVERLAY: PolicyDecisionOverlay component exists but is never mounted. Scope intersection data never constructed. Depends on WU-1918 (traces must reach dashboard first).'
acceptance:
  - extractToolReceipts includes scope_enforced
  - PolicyDenialView built from denied tool receipts
  - ScopeIntersectionView constructed from requested/allowed/enforced
  - PolicyDecisionOverlay rendered in TaskDashboard
