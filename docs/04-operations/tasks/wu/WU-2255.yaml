id: WU-2255
title: Argument-level policy evaluation context
lane: 'Framework: Core Lifecycle'
type: feature
status: ready
priority: P1
created: 2026-02-27
code_paths:
  - packages/@lumenflow/kernel/src/policy/policy-engine.ts
  - packages/@lumenflow/kernel/src/tool-host/tool-host.ts
  - packages/@lumenflow/kernel/src/runtime/kernel-runtime.ts
tests:
  manual:
    - Verify PolicyEvaluationContext includes tool_arguments field in type definition
    - Verify existing policy tests pass unchanged (backward compatibility)
  unit:
    - packages/@lumenflow/kernel/src/__tests__/policy-engine.test.ts
    - packages/@lumenflow/kernel/src/__tests__/tool-host.test.ts
  e2e: []
artifacts:
  - .lumenflow/stamps/WU-2255.done
dependencies: []
initiative: INIT-048
phase: 2
plan: docs/04-operations/plans/INIT-048-kernel-hardening-network-polic.md
spec_refs:
  - .claude/plans/groovy-percolating-galaxy.md
risks: []
notes: Independent of Phase 1 WUs. Can run in parallel with WU-2251.
requires_review: false
assigned_to: tom@hellm.ai
exposure: backend-only
escalation_triggers: []
requires_human_escalation: false
requires_cso_approval: false
requires_cto_approval: false
requires_design_approval: false
description: 'Add tool_arguments to PolicyEvaluationContext. Update when() predicate to support
  argument matching. Update ToolHost.authorize() to pass parsed tool input to policy hook. Tracer
  bullet: plumbing only, no specific argument rules yet.'
acceptance:
  - PolicyEvaluationContext includes tool_arguments field
  - ToolHost.authorize() passes parsed tool input to policy hook
  - Existing policy evaluation unchanged when tool_arguments not provided
