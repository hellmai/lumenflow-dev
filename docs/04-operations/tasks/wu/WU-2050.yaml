id: WU-2050
title: Bundled pack resolution for end-user bootstrap
lane: 'Framework: Core Lifecycle'
type: feature
status: ready
priority: P2
created: 2026-02-22
code_paths:
  - packages/@lumenflow/kernel/src/runtime/kernel-runtime.ts
  - packages/@lumenflow/cli/package.json
tests:
  manual:
    - Bootstrap in empty directory outside monorepo
  unit:
    - packages/@lumenflow/kernel/src/runtime/__tests__/resolve-packs-root.test.ts
  e2e: []
artifacts:
  - .lumenflow/stamps/WU-2050.done
dependencies: []
spec_refs:
  - .claude/plans/vivid-jumping-twilight.md
risks: []
notes: >-
  (auto) Add implementation notes, rollout context, or a short summary of the plan/conversation.


  Post WU-2047: software-delivery is now runtime-native (zero CLI spawn bridges). No bundled/domain
  distinction needed â€” all packs are equal. This WU is purely about making resolvePacksRoot work
  outside the monorepo.
requires_review: false
assigned_to: tom@hellm.ai
exposure: backend-only
escalation_triggers: []
requires_human_escalation: false
requires_cso_approval: false
requires_cto_approval: false
requires_design_approval: false
description: Add CLI-relative candidate to resolvePacksRoot() so packs resolve when installed via
  npm. Currently only checks monorepo paths (packs/ and packages/@lumenflow/packs/). End users need
  a fallback that resolves relative to the installed @lumenflow/cli package. Also bundle
  software-delivery pack into CLI dist/packs/ at build time.
acceptance:
  - resolvePacksRoot falls back to CLI package location when workspace-relative packs dirs dont exist
  - CLI package.json includes packs/ in npm files array
  - npx lumenflow in empty project finds software-delivery pack
