id: WU-1012
title: Add --docs-only flag to wu:done for documentation WUs
lane: Core
type: feature
status: ready
priority: P2
created: 2026-01-18
code_paths:
  - packages/@lumenflow/cli/src/wu-done.ts
tests:
  unit:
    - packages/@lumenflow/cli/src/__tests__/wu-done.test.ts
  manual:
    - wu:done --docs-only works for documentation WUs
  e2e: []
artifacts:
  - .beacon/stamps/WU-1012.done
dependencies:
  - WU-1011
risks:
  - Could be abused to skip gates on non-docs WUs
exposure: backend-only
notes: |
  Discovered during WU-1008: --skip-gates requires --fix-wu which
  doesn't make sense for docs-only WUs where no code is broken.

  Proposal: Add --docs-only flag that:
  1. Validates WU type is documentation or code_paths are docs/**
  2. Skips code-related gates (lint, typecheck, test)
  3. Still runs format gate on markdown/mdx files
requires_review: false
assigned_to: tom@hellm.ai
escalation_triggers: []
requires_human_escalation: false
requires_cso_approval: false
requires_cto_approval: false
requires_design_approval: false
description: |
  Add a --docs-only flag to wu:done for documentation-only WUs.

  Context: During WU-1008, couldn't use --skip-gates because it
  requires --fix-wu, which doesn't fit docs-only changes.

  Problem: No clean way to complete docs-only WUs when gates
  can't run (e.g., worktree build issues).

  Solution: Add --docs-only flag that validates the WU is
  documentation-focused and runs appropriate subset of gates.
acceptance:
  - --docs-only flag exists on wu:done
  - Flag validates WU exposure is 'documentation'
  - Format gate still runs on markdown files
  - Code gates (lint, typecheck, test) are skipped
  - Clear error if used on non-docs WU
