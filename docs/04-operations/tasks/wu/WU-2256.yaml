id: WU-2256
title: Add battle-tested workflow gotchas to starting-prompt onboarding doc
lane: 'Content: Framework Docs'
type: documentation
status: ready
priority: P2
created: 2026-02-27
code_paths:
  - packages/@lumenflow/cli/templates/core/ai/onboarding/starting-prompt.md.template
  - docs/04-operations/_frameworks/lumenflow/agent/onboarding/starting-prompt.md
tests:
  manual:
    - Verify gotchas section visible near top of starting-prompt.md
    - Verify pnpm gates --docs-only passes
  unit: []
  e2e: []
artifacts:
  - .lumenflow/stamps/WU-2256.done
dependencies: []
risks: []
notes: 'tdd-exception: docs-only WU, no code changes'
requires_review: false
assigned_to: tom@hellm.ai
exposure: documentation
escalation_triggers: []
requires_human_escalation: false
requires_cso_approval: false
requires_cto_approval: false
requires_design_approval: false
description: 'Agents repeatedly rediscover the same workflow sharp edges. Battle-tested lessons from production agents: wu:done deletes worktree (cd back), wu:done race condition (just rerun), wu:edit needs clean worktree, never raw pnpm update, state files are auto-generated. Key gotchas missing from starting-prompt.md and critical stuff buried in 657 lines. Add Top Gotchas summary near the top and fill gaps in existing sections.'
acceptance:
  - Top Gotchas summary section added after Quick Start in starting-prompt.md.template
  - 'Missing scenarios filled: wu:done race condition, state files note, raw pnpm update anti-pattern'
  - Same changes applied to deployed starting-prompt.md
  - pnpm gates --docs-only passes
