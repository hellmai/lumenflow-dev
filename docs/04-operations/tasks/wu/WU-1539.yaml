id: WU-1539
title: Centralize duplicated stamp and events path literals
lane: 'Framework: Core Lifecycle'
type: refactor
status: done
priority: P1
created: 2026-02-09
code_paths:
  - packages/@lumenflow/core/src/wu-constants.ts
  - packages/@lumenflow/cli/src/wu-done.ts
  - packages/@lumenflow/cli/src/wu-create.ts
  - packages/@lumenflow/cli/src/wu-proto.ts
  - packages/@lumenflow/cli/src/state-doctor.ts
  - packages/@lumenflow/cli/src/state-doctor-fix.ts
  - packages/@lumenflow/core/src/wu-done-validation.ts
  - packages/@lumenflow/core/src/__tests__/path-literal-guard.test.ts
  - packages/@lumenflow/cli/src/wu-claim.ts
tests:
  manual:
    - Run targeted grep checks for replaced literals and confirm zero unexpected remaining
      occurrences.
  unit:
    - packages/@lumenflow/core/src/__tests__/path-literal-guard.test.ts
  e2e: []
artifacts:
  - .lumenflow/stamps/WU-1539.done
dependencies: []
initiative: INIT-020
phase: 6
spec_refs:
  - lumenflow://plans/polished-frolicking-whale.md
risks: []
notes: >-
  Track E1 from enterprise hardening initiative. Split from original scope per wu-sizing-guide.md.
  See WU-1548 (E2: status + remaining literals) which can run in parallel.


  [ADMIN-REPAIR 2026-02-10]: status changed from 'in_progress' to 'done'
requires_review: false
assigned_to: tom@hellm.ai
exposure: backend-only
escalation_triggers: []
requires_human_escalation: false
requires_cso_approval: false
requires_cto_approval: false
requires_design_approval: false
description: 'Context: 28 hardcoded .lumenflow/stamps/ paths and 33 wu-events.jsonl paths are
  duplicated across 15+ files despite LUMENFLOW_PATHS.* and WU_PATHS.* constants existing. Problem:
  duplicated path literals drift and increase maintenance risk. Solution: replace hardcoded stamp
  and events paths with centralized constants.'
acceptance:
  - Hardcoded .lumenflow/stamps/ path literals replaced with LUMENFLOW_PATHS.STAMPS_DIR /
    WU_PATHS.STAMP(id).
  - Hardcoded wu-events.jsonl paths replaced with LUMENFLOW_PATHS.WU_EVENTS.
  - Duplicated local path constants (WU_EVENTS_PATH, WU_EVENTS_FILE, SIGNALS_FILE) removed in favor
    of shared constants.
  - Path-literal regression tests validate no reintroduction of banned literals.
locked: true
