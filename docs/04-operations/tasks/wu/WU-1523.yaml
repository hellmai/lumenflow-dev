id: WU-1523
title: Render backlog.md and status.md from state events in scaffolded projects
lane: 'Framework: CLI WU Commands'
type: bug
status: ready
priority: P3
created: 2026-02-07
code_paths:
  - packages/@lumenflow/cli/src/wu-done.ts
  - packages/@lumenflow/cli/src/wu-claim.ts
tests:
  manual:
    - Complete a WU in local-only project, verify backlog.md and status.md are populated
  unit:
    - packages/@lumenflow/cli/src/__tests__/wu-done.test.ts
  e2e: []
artifacts:
  - .lumenflow/stamps/WU-1523.done
dependencies: []
initiative: INIT-018
phase: 3
spec_refs:
  - docs/04-operations/tasks/initiatives/INIT-018.yaml
risks: []
notes: 'Haven test: all rendered markdown files were empty despite 3 completed WUs with proper state events.'
requires_review: false
assigned_to: tom@hellm.ai
exposure: backend-only
escalation_triggers: []
requires_human_escalation: false
requires_cso_approval: false
requires_cto_approval: false
requires_design_approval: false
description: 'Context: after completing 3 WUs in Haven test, both backlog.md and status.md show empty sections. Problem: state events exist in wu-events.jsonl but arent reflected in rendered markdown. May be a local-only mode path issue or a rendering bug in wu:done/wu:claim. Solution: fix markdown regeneration to reflect actual state.'
acceptance:
  - After wu:done, backlog.md shows the completed WU in the Done section
  - After wu:claim, status.md shows the claimed WU in the In Progress section
  - Both files render correctly from wu-events.jsonl in local-only mode
