# Lane Inference Configuration for LumenFlow
#
# Defines lane taxonomy with code_paths patterns and keywords for automated inference.
# Used by @lumenflow/core/lane-inference to suggest lanes during WU creation.
#
# Lanes match .lumenflow.config.yaml:
# - Core, CLI, Memory, Agent, Metrics, Initiatives, Shims, Infrastructure, Documentation

# Core Lane: Core WU lifecycle and shared utilities
Core:
  description: 'Core WU lifecycle tools, state management, validation, git operations'
  code_paths:
    - 'packages/@lumenflow/core/**'
  keywords:
    - 'wu lifecycle'
    - 'state machine'
    - 'lane-checker'
    - 'lane-lock'
    - 'git adapter'
    - 'backlog'
    - 'worktree'
    - 'validation'
    - 'spawn'
    - 'error handler'

# CLI Lane: Command-line interface tools
CLI:
  description: 'CLI commands (wu-*, mem-*, gates), argument parsing, output formatting'
  code_paths:
    - 'packages/@lumenflow/cli/**'
  keywords:
    - 'cli'
    - 'command line'
    - 'wu:claim'
    - 'wu:done'
    - 'wu:create'
    - 'wu:spawn'
    - 'gates'
    - 'argument parsing'
    - 'commander'

# Memory Lane: Memory layer for context persistence
Memory:
  description: 'Memory layer commands (mem-*), checkpoints, signals, summarization'
  code_paths:
    - 'packages/@lumenflow/memory/**'
  keywords:
    - 'memory'
    - 'checkpoint'
    - 'mem:init'
    - 'mem:signal'
    - 'mem:summarize'
    - 'context persistence'
    - 'memory store'

# Agent Lane: Agent session management and verification
Agent:
  description: 'Agent sessions, incidents, verification, feedback integration'
  code_paths:
    - 'packages/@lumenflow/agent/**'
  keywords:
    - 'agent session'
    - 'agent verification'
    - 'incidents'
    - 'feedback'
    - 'session management'
    - 'agent:session'

# Metrics Lane: Flow metrics and telemetry
Metrics:
  description: 'Flow metrics, DORA metrics, telemetry collection'
  code_paths:
    - 'packages/@lumenflow/metrics/**'
  keywords:
    - 'metrics'
    - 'dora'
    - 'flow state'
    - 'telemetry'
    - 'cycle time'
    - 'lead time'

# Initiatives Lane: Multi-WU project coordination
Initiatives:
  description: 'Initiative orchestration, wave execution, dependency graphs'
  code_paths:
    - 'packages/@lumenflow/initiatives/**'
  keywords:
    - 'initiative'
    - 'orchestration'
    - 'wave'
    - 'dependency graph'
    - 'parallel execution'
    - 'INIT-'

# Shims Lane: Compatibility shims and adapters
Shims:
  description: 'Compatibility shims for worktree operations, path resolution'
  code_paths:
    - 'packages/@lumenflow/shims/**'
  keywords:
    - 'shim'
    - 'compatibility'
    - 'adapter'
    - 'worktree shim'

# Infrastructure Lane: Apps, actions, CI/CD
Infrastructure:
  description: 'GitHub App, Actions, docs site, CI/CD workflows'
  code_paths:
    - 'apps/**'
    - 'actions/**'
    - '.github/**'
  keywords:
    - 'github app'
    - 'github action'
    - 'gates action'
    - 'docs site'
    - 'vercel'
    - 'ci'
    - 'workflow'

# Documentation Lane: Docs, guides, references
Documentation:
  description: 'Documentation, guides, specifications, references'
  code_paths:
    - 'docs/**'
    - 'apps/docs/**'
  keywords:
    - 'documentation'
    - 'docs'
    - 'guide'
    - 'reference'
    - 'specification'
    - 'readme'
