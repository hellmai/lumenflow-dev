---
title: CLI Commands
description: Complete CLI reference for LumenFlow
---

{/* AUTO-GENERATED FILE - DO NOT EDIT DIRECTLY */}
{/* Run `pnpm docs:generate` to regenerate from source */}
{/* Includes formatting stabilization (WU-1157) */}

import { Aside, Tabs, TabItem } from '@astrojs/starlight/components';

LumenFlow provides a comprehensive CLI for managing Work Units, memory, initiatives, and more.

<Aside type="tip">All commands can be run via `pnpm command` (e.g., `pnpm wu:claim`).</Aside>

## Commands Overview

| Category        | Commands                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| --------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| Agent Lifecycle | [`agent:issues-query`](#agentissues-query), [`agent:log-issue`](#agentlog-issue), [`agent:session`](#agentsession), [`agent:session-end`](#agentsession-end)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| Flow Metrics    | [`flow:bottlenecks`](#flowbottlenecks), [`flow:report`](#flowreport)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| Initiatives     | [`initiative:add-wu`](#initiativeadd-wu), [`initiative:bulk-assign-wus`](#initiativebulk-assign-wus), [`initiative:create`](#initiativecreate), [`initiative:edit`](#initiativeedit), [`initiative:list`](#initiativelist), [`initiative:plan`](#initiativeplan), [`initiative:status`](#initiativestatus)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| Memory Layer    | [`mem:checkpoint`](#memcheckpoint), [`mem:cleanup`](#memcleanup), [`mem:context`](#memcontext), [`mem:create`](#memcreate), [`mem:delete`](#memdelete), [`mem:export`](#memexport), [`mem:inbox`](#meminbox), [`mem:init`](#meminit), [`mem:ready`](#memready), [`mem:signal`](#memsignal), [`mem:start`](#memstart), [`mem:summarize`](#memsummarize), [`mem:triage`](#memtriage)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| Metrics         | [`metrics`](#metrics), [`metrics:snapshot`](#metricssnapshot)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| Orchestration   | [`orchestrate:init-status`](#orchestrateinit-status), [`orchestrate:initiative`](#orchestrateinitiative), [`orchestrate:monitor`](#orchestratemonitor)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| Other           | [`backlog:prune`](#backlogprune), [`deps:add`](#depsadd), [`deps:remove`](#depsremove), [`file:delete`](#filedelete), [`file:edit`](#fileedit), [`file:read`](#fileread), [`file:write`](#filewrite), [`git:branch`](#gitbranch), [`git:diff`](#gitdiff), [`git:log`](#gitlog), [`git:status`](#gitstatus), [`guard:locked`](#guardlocked), [`guard:main-branch`](#guardmain-branch), [`guard:worktree-commit`](#guardworktree-commit), [`init:plan`](#initplan), [`lane:health`](#lanehealth), [`lane:suggest`](#lanesuggest), [`plan:create`](#plancreate), [`plan:edit`](#planedit), [`plan:link`](#planlink), [`plan:promote`](#planpromote), [`rotate:progress`](#rotateprogress), [`session:coordinator`](#sessioncoordinator), [`signal:cleanup`](#signalcleanup), [`state:bootstrap`](#statebootstrap), [`state:cleanup`](#statecleanup), [`state:doctor`](#statedoctor), [`sync:templates`](#synctemplates), [`trace:gen`](#tracegen), [`validate`](#validate), [`validate:agent-skills`](#validateagent-skills), [`validate:agent-sync`](#validateagent-sync), [`validate:backlog-sync`](#validatebacklog-sync), [`validate:skills-spec`](#validateskills-spec) |
| Quality Gates   | [`gates`](#gates)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| Setup           | [`lumenflow`](#lumenflow), [`lumenflow:commands`](#lumenflowcommands), [`lumenflow:docs-sync`](#lumenflowdocs-sync), [`lumenflow:doctor`](#lumenflowdoctor), [`lumenflow:init`](#lumenflowinit), [`lumenflow:integrate`](#lumenflowintegrate), [`lumenflow:metrics`](#lumenflowmetrics), [`lumenflow:release`](#lumenflowrelease), [`lumenflow:sync-templates`](#lumenflowsync-templates), [`lumenflow:upgrade`](#lumenflowupgrade), [`lumenflow:validate`](#lumenflowvalidate)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| Sub-Agents      | [`spawn:list`](#spawnlist)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| Work Units      | [`wu:block`](#wublock), [`wu:claim`](#wuclaim), [`wu:cleanup`](#wucleanup), [`wu:create`](#wucreate), [`wu:delete`](#wudelete), [`wu:deps`](#wudeps), [`wu:done`](#wudone), [`wu:edit`](#wuedit), [`wu:infer-lane`](#wuinfer-lane), [`wu:preflight`](#wupreflight), [`wu:prep`](#wuprep), [`wu:proto`](#wuproto), [`wu:prune`](#wuprune), [`wu:recover`](#wurecover), [`wu:release`](#wurelease), [`wu:repair`](#wurepair), [`wu:spawn`](#wuspawn), [`wu:status`](#wustatus), [`wu:unblock`](#wuunblock), [`wu:unlock-lane`](#wuunlock-lane), [`wu:validate`](#wuvalidate)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |

## Agent Lifecycle

### agent:issues-query

Query logged issues from agent sessions

```bash
pnpm agent:issues-query
```

### agent:log-issue

Log an issue encountered during agent work

```bash
pnpm agent:log-issue --category <cat> --severity <sev> --title <title> --description <desc>
```

**Options:**

| Flag                         | Description                                  | Required |
| ---------------------------- | -------------------------------------------- | -------- | --------- | --------- | ------ | --- |
| `--category &lt;cat&gt;`     | Issue category (workflow                     | tooling  | confusion | violation | error) | Yes |
| `--severity &lt;sev&gt;`     | Severity level (blocker                      | major    | minor     | info)     | Yes    |
| `--title &lt;title&gt;`      | Short description (5-100 chars)              | Yes      |
| `--description &lt;desc&gt;` | Detailed context (10-2000 chars)             | Yes      |
| `--resolution &lt;res&gt;`   | How the issue was resolved                   | No       |
| `--tag &lt;tag&gt;`          | Tag for categorization (repeatable)          | No       |
| `--step &lt;step&gt;`        | Current workflow step (e.g., wu:done, gates) | No       |
| `--file &lt;file&gt;`        | Related file path (repeatable)               | No       |

### agent:session

Start an agent session for a WU

```bash
pnpm agent:session --wu <wuId> --tier <tier>
```

**Options:**

| Flag                        | Description                       | Required |
| --------------------------- | --------------------------------- | -------- |
| `--wu &lt;wuId&gt;`         | WU ID to work on (e.g., WU-1234)  | Yes      |
| `--tier &lt;tier&gt;`       | Context tier (1, 2, or 3)         | Yes      |
| `--agent-type &lt;type&gt;` | Agent type (default: claude-code) | No       |

### agent:session-end

End an agent session

```bash
pnpm agent:session-end
```

## Flow Metrics

### flow:bottlenecks

Identify workflow bottlenecks and critical path

```bash
pnpm flow:bottlenecks
```

### flow:report

Generate DORA metrics flow report

```bash
pnpm flow:report
```

## Initiatives

### initiative:add-wu

Link a WU to an initiative bidirectionally

```bash
pnpm initiative:add-wu --initiative <ref> --wu <wuId>
```

**Options:**

| Flag                       | Description                          | Required |
| -------------------------- | ------------------------------------ | -------- |
| `--initiative &lt;ref&gt;` | Parent initiative (INIT-XXX or slug) | Yes      |
| `--wu &lt;wuId&gt;`        | Work Unit ID to link (e.g., WU-123)  | Yes      |

### initiative:bulk-assign-wus

Bulk-assign orphaned WUs to initiatives based on lane prefix rules

```bash
pnpm initiative:bulk-assign-wus
```

**Options:**

| Flag                     | Description                                                     | Required |
| ------------------------ | --------------------------------------------------------------- | -------- |
| `--config &lt;path&gt;`  | Path to config file (tool-specific)                             | No       |
| `--apply`                | Apply changes (default is dry-run)                              | No       |
| `--sync-from-initiative` | Ensure WU initiative fields exist for WUs listed in initiatives | No       |

### initiative:create

Create a new Initiative with micro-worktree isolation (race-safe)

```bash
pnpm initiative:create --id <wuId> --slug <slug> --title <title>
```

**Options:**

| Flag                              | Description                                                                      | Required |
| --------------------------------- | -------------------------------------------------------------------------------- | -------- |
| `-i, --id &lt;wuId&gt;`           | Work Unit ID (e.g., WU-123). If not provided, auto-generates next sequential ID. | Yes      |
| `-s, --slug &lt;slug&gt;`         | Initiative slug (kebab-case)                                                     | Yes      |
| `-t, --title &lt;title&gt;`       | Work Unit title                                                                  | Yes      |
| `-p, --priority &lt;priority&gt;` | Priority level (P0, P1, P2, P3)                                                  | No       |
| `-o, --owner &lt;owner&gt;`       | Initiative owner (team or individual)                                            | No       |
| `--target-date &lt;date&gt;`      | Target completion date (YYYY-MM-DD)                                              | No       |

### initiative:edit

Edit Initiative YAML files with micro-worktree isolation

```bash
pnpm initiative:edit
```

**Options:**

| Flag                                | Description                                                                 | Required |
| ----------------------------------- | --------------------------------------------------------------------------- | -------- |
| `-i, --id &lt;initId&gt;`           | Initiative ID (e.g., INIT-001)                                              | No       |
| `--blocked-by &lt;initId&gt;`       | Initiative ID that blocks this initiative                                   | No       |
| `--blocked-reason &lt;text&gt;`     | Reason for blocking (required with --blocked-by)                            | No       |
| `--unblock`                         | Remove blocked_by and blocked_reason fields                                 | No       |
| `--add-lane &lt;lane&gt;`           | Lane to add (repeatable)                                                    | No       |
| `--remove-lane &lt;lane&gt;`        | Lane to remove (repeatable)                                                 | No       |
| `--notes &lt;text&gt;`              | Note to append to notes array                                               | No       |
| `--description &lt;text&gt;`        | Replace the initiative description field                                    | No       |
| `--add-phase &lt;title&gt;`         | Append a new phase with auto-incremented id and pending status (repeatable) | No       |
| `--add-success-metric &lt;text&gt;` | Append to success_metrics array, avoiding duplicates (repeatable)           | No       |
| `--phase-id &lt;id&gt;`             | Phase ID to update (use with --phase-status)                                | No       |
| `--created &lt;date&gt;`            | Set created date (YYYY-MM-DD format)                                        | No       |

### initiative:list

List all initiatives with progress percentages

```bash
pnpm initiative:list
```

**Options:**

| Flag                      | Description                                 | Required |
| ------------------------- | ------------------------------------------- | -------- |
| `--format &lt;format&gt;` | Output format (table, json, ascii, mermaid) | No       |
| `--status &lt;status&gt;` | Filter by status                            | No       |
| `--color`                 | Enable colored output                       | No       |

### initiative:plan

Link a plan file to an initiative

```bash
pnpm initiative:plan --initiative <ref>
```

**Options:**

| Flag                       | Description                          | Required |
| -------------------------- | ------------------------------------ | -------- |
| `--initiative &lt;ref&gt;` | Parent initiative (INIT-XXX or slug) | Yes      |

### initiative:status

Show detailed initiative view with phases and WUs

```bash
pnpm initiative:status
```

**Options:**

| Flag                      | Description                                                                      | Required |
| ------------------------- | -------------------------------------------------------------------------------- | -------- |
| `-i, --id &lt;wuId&gt;`   | Work Unit ID (e.g., WU-123). If not provided, auto-generates next sequential ID. | No       |
| `--format &lt;format&gt;` | Output format (table, json, ascii, mermaid)                                      | No       |
| `--color`                 | Enable colored output                                                            | No       |

## Memory Layer

### mem:checkpoint

Create a checkpoint node for context snapshots

```bash
pnpm mem:checkpoint
```

**Options:**

| Flag                          | Description                                    | Required |
| ----------------------------- | ---------------------------------------------- | -------- |
| `--wu &lt;wuId&gt;`           | Work Unit ID to link (e.g., WU-123)            | No       |
| `-n, --note &lt;text&gt;`     | Checkpoint note (required if not positional)   | No       |
| `-s, --session &lt;id&gt;`    | Session ID to link checkpoint to (UUID)        | No       |
| `-p, --progress &lt;text&gt;` | Progress summary                               | No       |
| `--next-steps &lt;text&gt;`   | Next steps description                         | No       |
| `-t, --trigger &lt;type&gt;`  | Handoff trigger type (e.g., clear, handoff)    | No       |
| `-d, --base-dir &lt;path&gt;` | Base directory (defaults to current directory) | No       |
| `-q, --quiet`                 | Suppress output except errors                  | No       |

### mem:cleanup

Prune closed memory nodes based on lifecycle policy and TTL

```bash
pnpm mem:cleanup
```

**Options:**

| Flag                          | Description                                                                           | Required |
| ----------------------------- | ------------------------------------------------------------------------------------- | -------- |
| `--dry-run`                   | Preview cleanup without making changes                                                | No       |
| `--ttl &lt;duration&gt;`      | Remove nodes older than duration (e.g., 30d, 7d, 24h). Active sessions are protected. | No       |
| `--session-id &lt;uuid&gt;`   | Session ID to consider closed (removes session lifecycle nodes)                       | No       |
| `--json`                      | Output as JSON                                                                        | No       |
| `-q, --quiet`                 | Suppress output except errors                                                         | No       |
| `-b, --base-dir &lt;path&gt;` | Base directory (defaults to current directory)                                        | No       |

### mem:context

Generate context injection block for wu:spawn prompts

```bash
pnpm mem:context --wu <wuId>
```

**Options:**

| Flag                                     | Description                                                          | Required |
| ---------------------------------------- | -------------------------------------------------------------------- | -------- |
| `--wu &lt;wuId&gt;`                      | Work Unit ID to link (e.g., WU-123)                                  | Yes      |
| `-m, --max-size &lt;bytes&gt;`           | Maximum context size in bytes (default: 4096)                        | No       |
| `--spawn-context-max-size &lt;bytes&gt;` | Alias for --max-size (for config parity with spawn_context_max_size) | No       |
| `-l, --lane &lt;lane&gt;`                | Filter project memories by lane (e.g., "Framework: CLI")             | No       |
| `--max-recent-summaries &lt;count&gt;`   | Maximum number of recent summaries to include (default: 5)           | No       |
| `--max-project-nodes &lt;count&gt;`      | Maximum number of project nodes to include (default: 10)             | No       |
| `-f, --format &lt;format&gt;`            | Output format: json or human (default: human)                        | No       |
| `-d, --base-dir &lt;path&gt;`            | Base directory (defaults to current directory)                       | No       |
| `-q, --quiet`                            | Suppress header/footer output, only show context block               | No       |

### mem:create

Create a memory node with optional provenance tracking

```bash
pnpm mem:create
```

**Options:**

| Flag                               | Description                                              | Required |
| ---------------------------------- | -------------------------------------------------------- | -------- |
| `--wu &lt;wuId&gt;`                | Work Unit ID to link (e.g., WU-123)                      | No       |
| `-t, --title &lt;text&gt;`         | Node title/content (required if not positional)          | No       |
| `-d, --discovered-from &lt;id&gt;` | Parent node ID for provenance tracking (mem-XXXX format) | No       |
| `-s, --session &lt;id&gt;`         | Session ID to link node to (UUID)                        | No       |
| `--tags &lt;tags&gt;`              | Comma-separated tags for categorization                  | No       |
| `-p, --priority &lt;level&gt;`     | Priority level (P0, P1, P2, P3)                          | No       |
| `-b, --base-dir &lt;path&gt;`      | Base directory (defaults to current directory)           | No       |
| `-q, --quiet`                      | Suppress output except errors                            | No       |

### mem:delete

Delete memory nodes (soft delete via metadata.status=deleted)

```bash
pnpm mem:delete
```

**Options:**

| Flag                            | Description                                               | Required |
| ------------------------------- | --------------------------------------------------------- | -------- |
| `--dry-run`                     | Preview deletion without making changes                   | No       |
| `--tag &lt;tag&gt;`             | Delete all nodes matching this tag                        | No       |
| `--older-than &lt;duration&gt;` | Delete nodes older than duration (e.g., 30d, 7d, 24h, 2w) | No       |
| `--json`                        | Output as JSON                                            | No       |
| `-q, --quiet`                   | Suppress output except errors                             | No       |
| `-b, --base-dir &lt;path&gt;`   | Base directory (defaults to current directory)            | No       |

### mem:export

Export memory nodes as markdown or JSON

```bash
pnpm mem:export
```

**Options:**

| Flag                                | Description                                           | Required |
| ----------------------------------- | ----------------------------------------------------- | -------- |
| `--wu &lt;wuId&gt;`                 | Work Unit ID to link (e.g., WU-123)                   | No       |
| `-l, --lifecycle &lt;lifecycle&gt;` | Filter by lifecycle (ephemeral, session, wu, project) | No       |
| `-f, --format &lt;format&gt;`       | Output format (markdown, json). Default: markdown     | No       |
| `-d, --base-dir &lt;path&gt;`       | Base directory (defaults to current directory)        | No       |
| `-q, --quiet`                       | Suppress header/footer output                         | No       |

### mem:inbox

Read coordination signals from other agents

```bash
pnpm mem:inbox
```

**Options:**

| Flag                       | Description                                                      | Required |
| -------------------------- | ---------------------------------------------------------------- | -------- |
| `--wu &lt;wuId&gt;`        | Work Unit ID to link (e.g., WU-123)                              | No       |
| `-l, --lane &lt;lane&gt;`  | Lane name (e.g., "Operations: Tooling")                          | No       |
| `-s, --since &lt;time&gt;` | Filter signals since time (e.g., "1h", "30m", "2025-12-09")      | No       |
| `-w, --watch`              | Continuously monitor for new signals                             | No       |
| `-q, --quiet`              | Suppress output except signal content                            | No       |
| `--no-mark`                | Do not mark signals as read after display                        | No       |
| `-c, --count`              | Output only signal count (lightweight polling for orchestrators) | No       |

### mem:init

Initialize memory layer in repository

```bash
pnpm mem:init
```

**Options:**

| Flag                          | Description                                                  | Required |
| ----------------------------- | ------------------------------------------------------------ | -------- |
| `-d, --base-dir &lt;path&gt;` | Base directory to initialize (defaults to current directory) | No       |
| `-q, --quiet`                 | Suppress output except errors                                | No       |

### mem:ready

Query ready nodes for a WU (deterministic ordering)

```bash
pnpm mem:ready --wu <wuId>
```

**Options:**

| Flag                          | Description                                    | Required |
| ----------------------------- | ---------------------------------------------- | -------- |
| `--wu &lt;wuId&gt;`           | Work Unit ID to link (e.g., WU-123)            | Yes      |
| `-f, --format &lt;format&gt;` | Output format (json, human). Default: human    | No       |
| `-d, --base-dir &lt;path&gt;` | Base directory (defaults to current directory) | No       |
| `-q, --quiet`                 | Suppress header/footer output, only show nodes | No       |

### mem:signal

Send a coordination signal to other agents

```bash
pnpm mem:signal
```

**Options:**

| Flag                         | Description                                            | Required |
| ---------------------------- | ------------------------------------------------------ | -------- |
| `--wu &lt;wuId&gt;`          | Work Unit ID to link (e.g., WU-123)                    | No       |
| `-l, --lane &lt;lane&gt;`    | Lane name (e.g., "Operations: Tooling")                | No       |
| `-m, --message &lt;text&gt;` | Signal message (required if not positional)            | No       |
| `-q, --quiet`                | Suppress output except errors (outputs signal ID only) | No       |

### mem:start

Create a session node linked to a WU

```bash
pnpm mem:start --wu <wuId>
```

**Options:**

| Flag                              | Description                                                | Required |
| --------------------------------- | ---------------------------------------------------------- | -------- |
| `--wu &lt;wuId&gt;`               | Work Unit ID to link (e.g., WU-123)                        | Yes      |
| `-a, --agent-type &lt;type&gt;`   | Agent type (e.g., general-purpose, explore, test-engineer) | No       |
| `-c, --context-tier &lt;tier&gt;` | Context tier (core, full, minimal)                         | No       |
| `-d, --base-dir &lt;path&gt;`     | Base directory (defaults to current directory)             | No       |
| `-q, --quiet`                     | Suppress output except errors                              | No       |

### mem:summarize

Rollup older memory nodes into summary nodes for compaction

```bash
pnpm mem:summarize --wu <id>
```

**Options:**

| Flag                          | Description                                    | Required |
| ----------------------------- | ---------------------------------------------- | -------- |
| `--wu &lt;id&gt;`             | WU ID to summarize (e.g., WU-1234)             | Yes      |
| `--dry-run`                   | Preview summary without making changes         | No       |
| `--json`                      | Output as JSON                                 | No       |
| `-q, --quiet`                 | Suppress output except errors                  | No       |
| `-b, --base-dir &lt;path&gt;` | Base directory (defaults to current directory) | No       |

### mem:triage

Review discovery nodes and promote to WUs or archive

```bash
pnpm mem:triage
```

**Options:**

| Flag                           | Description                                           | Required |
| ------------------------------ | ----------------------------------------------------- | -------- |
| `-l, --list`                   | List open discoveries (default action)                | No       |
| `-p, --promote &lt;nodeId&gt;` | Promote discovery to WU (mem-XXXX format)             | No       |
| `-a, --archive &lt;nodeId&gt;` | Archive discovery without promotion (mem-XXXX format) | No       |
| `-r, --reason &lt;text&gt;`    | Reason for archiving (required with --archive)        | No       |
| `--title &lt;text&gt;`         | Custom title for promoted WU (optional)               | No       |
| `--lane &lt;lane&gt;`          | Lane for promoted WU (required with --promote)        | No       |
| `--wu-id &lt;id&gt;`           | Explicit WU ID for promotion (optional)               | No       |
| `--wu &lt;id&gt;`              | Filter discoveries by WU ID (or "unlinked")           | No       |
| `--tag &lt;tag&gt;`            | Filter discoveries by tag                             | No       |
| `--dry-run`                    | Preview promotion without creating WU                 | No       |
| `--json`                       | Output as JSON                                        | No       |
| `-q, --quiet`                  | Suppress output except errors                         | No       |

## Metrics

### metrics

Unified Metrics CLI with subcommands (WU-1110)

```bash
pnpm metrics
```

### metrics:snapshot

Capture current metrics snapshot for dashboards

```bash
pnpm metrics:snapshot
```

## Orchestration

### orchestrate:init-status

Show initiative orchestration status

```bash
pnpm orchestrate:init-status
```

### orchestrate:initiative

Orchestrate initiative execution with agents

```bash
pnpm orchestrate:initiative
```

### orchestrate:monitor

Monitor spawned agent progress and signals

```bash
pnpm orchestrate:monitor
```

## Other

### backlog:prune

Backlog Prune Command

```bash
pnpm backlog:prune
```

### deps:add

Deps Add CLI Command

```bash
pnpm deps:add
```

### deps:remove

Deps Remove CLI Command

```bash
pnpm deps:remove
```

### file:delete

File Delete CLI Tool

```bash
pnpm file:delete
```

### file:edit

File Edit CLI Tool

```bash
pnpm file:edit
```

### file:read

File Read CLI Tool

```bash
pnpm file:read
```

### file:write

File Write CLI Tool

```bash
pnpm file:write
```

### git:branch

Git Branch CLI Tool

```bash
pnpm git:branch
```

### git:diff

Git Diff CLI Tool

```bash
pnpm git:diff
```

### git:log

Git Log CLI Tool

```bash
pnpm git:log
```

### git:status

Git Status CLI Tool

```bash
pnpm git:status
```

### guard:locked

```bash
pnpm guard:locked
```

### guard:main-branch

Guard Main Branch CLI Tool

```bash
pnpm guard:main-branch
```

### guard:worktree-commit

```bash
pnpm guard:worktree-commit
```

### init:plan

Link a plan file to an initiative

```bash
pnpm init:plan --initiative <ref>
```

**Options:**

| Flag                       | Description                          | Required |
| -------------------------- | ------------------------------------ | -------- |
| `--initiative &lt;ref&gt;` | Parent initiative (INIT-XXX or slug) | Yes      |

### lane:health

Check lane configuration health (WU-1188)

```bash
pnpm lane:health
```

### lane:suggest

Suggest lane definitions based on codebase context

```bash
pnpm lane:suggest
```

### plan:create

Create a new plan file in repo plansDir

```bash
pnpm plan:create --id <wuId> --title <title>
```

**Options:**

| Flag                        | Description                                                                      | Required |
| --------------------------- | -------------------------------------------------------------------------------- | -------- |
| `-i, --id &lt;wuId&gt;`     | Work Unit ID (e.g., WU-123). If not provided, auto-generates next sequential ID. | Yes      |
| `-t, --title &lt;title&gt;` | Work Unit title                                                                  | Yes      |

### plan:edit

Edit a section in a plan file

```bash
pnpm plan:edit --id <wuId>
```

**Options:**

| Flag                    | Description                                                                      | Required |
| ----------------------- | -------------------------------------------------------------------------------- | -------- |
| `-i, --id &lt;wuId&gt;` | Work Unit ID (e.g., WU-123). If not provided, auto-generates next sequential ID. | Yes      |

### plan:link

Link a plan file to a WU or initiative

```bash
pnpm plan:link --id <wuId>
```

**Options:**

| Flag                    | Description                                                                      | Required |
| ----------------------- | -------------------------------------------------------------------------------- | -------- |
| `-i, --id &lt;wuId&gt;` | Work Unit ID (e.g., WU-123). If not provided, auto-generates next sequential ID. | Yes      |

### plan:promote

Promote a plan to approved status

```bash
pnpm plan:promote --id <wuId>
```

**Options:**

| Flag                    | Description                                                                      | Required |
| ----------------------- | -------------------------------------------------------------------------------- | -------- |
| `-i, --id &lt;wuId&gt;` | Work Unit ID (e.g., WU-123). If not provided, auto-generates next sequential ID. | Yes      |

### rotate:progress

Rotate Progress CLI Command

```bash
pnpm rotate:progress
```

### session:coordinator

Session Coordinator CLI Command

```bash
pnpm session:coordinator
```

### signal:cleanup

Prune old signals based on TTL policy to prevent unbounded growth

```bash
pnpm signal:cleanup
```

**Options:**

| Flag                            | Description                                       | Required |
| ------------------------------- | ------------------------------------------------- | -------- |
| `--dry-run`                     | Preview cleanup without making changes            | No       |
| `--ttl &lt;duration&gt;`        | TTL for read signals (e.g., 7d, 24h). Default: 7d | No       |
| `--unread-ttl &lt;duration&gt;` | TTL for unread signals (e.g., 30d). Default: 30d  | No       |
| `--max-entries &lt;count&gt;`   | Maximum signals to retain. Default: 500           | No       |
| `--json`                        | Output as JSON                                    | No       |
| `-q, --quiet`                   | Suppress output except errors                     | No       |
| `-b, --base-dir &lt;path&gt;`   | Base directory (defaults to current directory)    | No       |

### state:bootstrap

State Bootstrap Command

```bash
pnpm state:bootstrap
```

### state:cleanup

Orchestrate all state cleanup: signals, memory, events

```bash
pnpm state:cleanup
```

**Options:**

| Flag                          | Description                                    | Required |
| ----------------------------- | ---------------------------------------------- | -------- |
| `--dry-run`                   | Preview cleanup without making changes         | No       |
| `--signals-only`              | Only execute signal cleanup                    | No       |
| `--memory-only`               | Only execute memory cleanup                    | No       |
| `--events-only`               | Only execute event archival                    | No       |
| `--json`                      | Output as JSON                                 | No       |
| `-q, --quiet`                 | Suppress output except errors and summary      | No       |
| `-b, --base-dir &lt;path&gt;` | Base directory (defaults to current directory) | No       |

### state:doctor

Check state integrity and optionally repair issues

```bash
pnpm state:doctor
```

**Options:**

| Flag                          | Description                                    | Required |
| ----------------------------- | ---------------------------------------------- | -------- |
| `--fix`                       | Auto-repair safe issues                        | No       |
| `--dry-run`                   | Preview repairs without making changes         | No       |
| `--json`                      | Output as JSON                                 | No       |
| `-q, --quiet`                 | Suppress output except errors and summary      | No       |
| `-b, --base-dir &lt;path&gt;` | Base directory (defaults to current directory) | No       |

### sync:templates

Sync internal docs to CLI templates for release-cycle maintenance

```bash
pnpm sync:templates
```

### trace:gen

Trace Generator CLI Command

```bash
pnpm trace:gen
```

### validate

```bash
pnpm validate
```

### validate:agent-skills

```bash
pnpm validate:agent-skills
```

### validate:agent-sync

```bash
pnpm validate:agent-sync
```

### validate:backlog-sync

```bash
pnpm validate:backlog-sync
```

### validate:skills-spec

```bash
pnpm validate:skills-spec
```

## Quality Gates

### gates

Run quality gates with support for docs-only mode, incremental linting, and tiered testing

```bash
pnpm gates
```

## Setup

### lumenflow

Initialize LumenFlow in a project\n\n

```bash
pnpm lumenflow
```

### lumenflow:commands

List all available LumenFlow CLI commands

```bash
pnpm lumenflow:commands
```

### lumenflow:docs-sync

Sync agent onboarding docs to existing projects (skips existing files by default)

```bash
pnpm lumenflow:docs-sync
```

### lumenflow:doctor

Check LumenFlow safety components and configuration

```bash
pnpm lumenflow:doctor
```

### lumenflow:init

Initialize LumenFlow in a project\n\n

```bash
pnpm lumenflow:init
```

### lumenflow:integrate

Integrate LumenFlow enforcement with AI client tools

```bash
pnpm lumenflow:integrate
```

### lumenflow:metrics

Unified Metrics CLI with subcommands (WU-1110)

```bash
pnpm lumenflow:metrics
```

### lumenflow:release

Release Command

```bash
pnpm lumenflow:release
```

### lumenflow:sync-templates

Sync internal docs to CLI templates for release-cycle maintenance

```bash
pnpm lumenflow:sync-templates
```

### lumenflow:upgrade

LumenFlow Upgrade CLI Command

```bash
pnpm lumenflow:upgrade
```

### lumenflow:validate

```bash
pnpm lumenflow:validate
```

## Sub-Agents

### spawn:list

Display spawn trees for WUs or initiatives

```bash
pnpm spawn:list
```

**Options:**

| Flag                          | Description                                           | Required |
| ----------------------------- | ----------------------------------------------------- | -------- |
| `--wu &lt;wuId&gt;`           | Work Unit ID to link (e.g., WU-123)                   | No       |
| `--initiative &lt;initId&gt;` | Initiative ID to show all spawns for (e.g., INIT-001) | No       |
| `--json`                      | Output as JSON                                        | No       |

## Work Units

### wu:block

Block a work unit and move it from in-progress to blocked status

```bash
pnpm wu:block --id <wuId>
```

**Options:**

| Flag                          | Description                                                                      | Required |
| ----------------------------- | -------------------------------------------------------------------------------- | -------- |
| `-i, --id &lt;wuId&gt;`       | Work Unit ID (e.g., WU-123). If not provided, auto-generates next sequential ID. | Yes      |
| `-r, --reason &lt;reason&gt;` | Reason for action (required with --skip-gates, --override-owner)                 | No       |
| `-w, --worktree &lt;path&gt;` | Override worktree path                                                           | No       |
| `--remove-worktree`           | Remove worktree when blocking                                                    | No       |
| `--no-auto`                   | Skip auto-updating YAML/backlog/status                                           | No       |

### wu:claim

Claim a work unit by creating a worktree/branch and updating status

```bash
pnpm wu:claim --id <wuId> --lane <lane>
```

**Options:**

| Flag                          | Description                                                                                                                                                                                            | Required |
| ----------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | -------- |
| `-i, --id &lt;wuId&gt;`       | Work Unit ID (e.g., WU-123). If not provided, auto-generates next sequential ID.                                                                                                                       | Yes      |
| `-l, --lane &lt;lane&gt;`     | Lane name (e.g., "Operations: Tooling")                                                                                                                                                                | Yes      |
| `-w, --worktree &lt;path&gt;` | Override worktree path                                                                                                                                                                                 | No       |
| `-b, --branch &lt;branch&gt;` | Override branch name                                                                                                                                                                                   | No       |
| `--branch-only`               | Use branch-only mode (no worktree)                                                                                                                                                                     | No       |
| `--pr-mode`                   | Use PR mode (create PR instead of auto-merge)                                                                                                                                                          | No       |
| `--no-auto`                   | Skip auto-updating YAML/backlog/status                                                                                                                                                                 | No       |
| `-f, --force`                 | Force operation                                                                                                                                                                                        | No       |
| `--force-overlap`             | Force claiming despite overlap (requires --reason)                                                                                                                                                     | No       |
| `--fix`                       | Auto-fix common YAML validation issues (WU-1359)                                                                                                                                                       | No       |
| `-r, --reason &lt;reason&gt;` | Reason for action (required with --skip-gates, --override-owner)                                                                                                                                       | No       |
| `--allow-incomplete`          | Allow claiming with incomplete spec (bypasses spec completeness, NOT schema errors)                                                                                                                    | No       |
| `--resume`                    | Resume a WU from a crashed/killed agent (handoff) by taking over the existing worktree and updating the lock with new PID. Fails if original PID is still running (safety) or worktree does not exist. | No       |
| `--skip-setup`                | Skip automatic pnpm install in worktree after creation (faster claims when deps already built)                                                                                                         | No       |
| `--no-push`                   | Skip pushing claim branch or canonical updates (air-gapped/offline)                                                                                                                                    | No       |

### wu:cleanup

Clean up worktree and branch after PR merge (PR-based completion workflow)

```bash
pnpm wu:cleanup
```

**Options:**

| Flag                    | Description                                                                      | Required |
| ----------------------- | -------------------------------------------------------------------------------- | -------- |
| `-i, --id &lt;wuId&gt;` | Work Unit ID (e.g., WU-123). If not provided, auto-generates next sequential ID. | No       |
| `--artifacts`           | Remove build artifacts (dist, tsbuildinfo) in current worktree                   | No       |

### wu:create

Create a new Work Unit with micro-worktree isolation (race-safe)

```bash
pnpm wu:create --lane <lane> --title <title>
```

**Options:**

| Flag                                | Description                                                                                                           | Required |
| ----------------------------------- | --------------------------------------------------------------------------------------------------------------------- | -------- |
| `-i, --id &lt;wuId&gt;`             | Work Unit ID (e.g., WU-123). If not provided, auto-generates next sequential ID.                                      | No       |
| `-l, --lane &lt;lane&gt;`           | Lane name (e.g., "Operations: Tooling")                                                                               | Yes      |
| `-t, --title &lt;title&gt;`         | Work Unit title                                                                                                       | Yes      |
| `-p, --priority &lt;priority&gt;`   | Priority level (P0, P1, P2, P3)                                                                                       | No       |
| `--type &lt;type&gt;`               | WU type (feature, bug, refactor, documentation)                                                                       | No       |
| `--initiative &lt;ref&gt;`          | Parent initiative (INIT-XXX or slug)                                                                                  | No       |
| `--phase &lt;number&gt;`            | Phase number within initiative                                                                                        | No       |
| `--blocked-by &lt;wuIds&gt;`        | WU IDs that block this WU (repeatable)                                                                                | No       |
| `--blocks &lt;wuIds&gt;`            | WU IDs this WU blocks (repeatable)                                                                                    | No       |
| `--labels &lt;labels&gt;`           | Labels (repeatable)                                                                                                   | No       |
| `--assigned-to &lt;email&gt;`       | Override assigned_to (defaults to git config user.email)                                                              | No       |
| `--description &lt;text&gt;`        | WU description text (Context/Problem/Solution)                                                                        | No       |
| `--acceptance &lt;criterion&gt;`    | Acceptance criterion (repeatable, use multiple times)                                                                 | No       |
| `--code-paths &lt;paths&gt;`        | Code paths (repeatable)                                                                                               | No       |
| `--test-paths-manual &lt;tests&gt;` | Manual test descriptions (repeatable)                                                                                 | No       |
| `--test-paths-unit &lt;paths&gt;`   | Unit test file paths (repeatable)                                                                                     | No       |
| `--test-paths-e2e &lt;paths&gt;`    | E2E test file paths (repeatable)                                                                                      | No       |
| `--validate`                        | Validate spec completeness (requires description, acceptance, test paths)                                             | No       |
| `--spec-refs &lt;paths&gt;`         | Spec/plan references (repeatable or comma-separated, required for type: feature)                                      | No       |
| `--exposure &lt;type&gt;`           | Exposure level (ui, api, backend-only, documentation)                                                                 | No       |
| `--user-journey &lt;text&gt;`       | User journey description (recommended for ui/api exposure)                                                            | No       |
| `--ui-pairing-wus &lt;wuIds&gt;`    | UI WU IDs that consume this API (repeatable or comma-separated, for api exposure)                                     | No       |
| `--plan`                            | Create plan template in $LUMENFLOW_HOME/plans/ (external plan storage)                                                | No       |
| `--no-strict`                       | Bypass strict validation (skip code_paths/test_paths existence checks, treat warnings as advisory). Logged when used. | No       |

### wu:delete

Safely delete WU YAML files with micro-worktree isolation

```bash
pnpm wu:delete
```

**Options:**

| Flag                    | Description                                                                      | Required |
| ----------------------- | -------------------------------------------------------------------------------- | -------- |
| `-i, --id &lt;wuId&gt;` | Work Unit ID (e.g., WU-123). If not provided, auto-generates next sequential ID. | No       |
| `--dry-run`             | Show what would be deleted without making changes                                | No       |
| `--batch &lt;ids&gt;`   | Delete multiple WUs atomically (comma-separated: WU-1,WU-2,WU-3)                 | No       |

### wu:deps

Visualize WU dependency graph

```bash
pnpm wu:deps
```

**Options:**

| Flag                         | Description                                                                      | Required |
| ---------------------------- | -------------------------------------------------------------------------------- | -------- |
| `-i, --id &lt;wuId&gt;`      | Work Unit ID (e.g., WU-123). If not provided, auto-generates next sequential ID. | No       |
| `--format &lt;format&gt;`    | Output format (table, json, ascii, mermaid)                                      | No       |
| `-d, --depth &lt;number&gt;` | Maximum traversal depth                                                          | No       |
| `--direction &lt;dir&gt;`    | Graph direction (up, down, both)                                                 | No       |

### wu:done

WU Done Helper

```bash
pnpm wu:done
```

### wu:edit

Edit WU spec files with micro-worktree isolation

```bash
pnpm wu:edit --id <wuId>
```

**Options:**

| Flag                                | Description                                                                                                           | Required |
| ----------------------------------- | --------------------------------------------------------------------------------------------------------------------- | -------- |
| `-i, --id &lt;wuId&gt;`             | Work Unit ID (e.g., WU-123). If not provided, auto-generates next sequential ID.                                      | Yes      |
| `--test-paths-manual &lt;tests&gt;` | Manual test descriptions (repeatable)                                                                                 | No       |
| `--test-paths-unit &lt;paths&gt;`   | Unit test file paths (repeatable)                                                                                     | No       |
| `--test-paths-e2e &lt;paths&gt;`    | E2E test file paths (repeatable)                                                                                      | No       |
| `--exposure &lt;type&gt;`           | Exposure level (ui, api, backend-only, documentation)                                                                 | No       |
| `--no-strict`                       | Bypass strict validation (skip code_paths/test_paths existence checks, treat warnings as advisory). Logged when used. | No       |
| `--spec-file &lt;path&gt;`          | Path to YAML file with updated spec content                                                                           | No       |
| `--description &lt;text&gt;`        | New description text (replaces existing)                                                                              | No       |
| `--acceptance &lt;criterion&gt;`    | Acceptance criterion (repeatable, appends to existing; use --replace-acceptance to overwrite)                         | No       |
| `--notes &lt;text&gt;`              | Notes text (appends to existing; use --replace-notes to overwrite)                                                    | No       |
| `--replace-notes`                   | Replace existing notes instead of appending                                                                           | No       |
| `--replace-acceptance`              | Replace existing acceptance criteria instead of appending                                                             | No       |
| `--code-paths &lt;path&gt;`         | Code path (repeatable, appends to existing; use --replace-code-paths to overwrite)                                    | No       |
| `--replace-code-paths`              | Replace existing code_paths instead of appending                                                                      | No       |
| `--risks &lt;risk&gt;`              | Risk entry (repeatable, appends to existing; use --replace-risks to overwrite)                                        | No       |
| `--replace-risks`                   | Replace existing risks instead of appending                                                                           | No       |
| `--append`                          | [DEPRECATED] Arrays now append by default. Use --replace-\* flags to replace.                                         | No       |
| `--lane &lt;lane&gt;`               | New lane assignment (e.g., "Operations: Tooling")                                                                     | No       |
| `--type &lt;type&gt;`               | New WU type (feature, bug, refactor, documentation)                                                                   | No       |
| `--priority &lt;priority&gt;`       | New priority (P0, P1, P2, P3)                                                                                         | No       |
| `--initiative &lt;initId&gt;`       | Initiative ID (e.g., INIT-001). Updates WU and initiative wus: arrays bidirectionally.                                | No       |
| `--phase &lt;number&gt;`            | Phase number within initiative (e.g., 1, 2)                                                                           | No       |
| `--blocked-by &lt;wuIds&gt;`        | Comma-separated WU IDs that block this WU (appends to existing; use --replace-blocked-by to overwrite)                | No       |
| `--replace-blocked-by`              | Replace existing blocked_by instead of appending                                                                      | No       |
| `--add-dep &lt;wuIds&gt;`           | Comma-separated WU IDs to add to dependencies array (appends to existing; use --replace-dependencies to overwrite)    | No       |
| `--replace-dependencies`            | Replace existing dependencies instead of appending                                                                    | No       |

### wu:infer-lane

WU Lane Inference CLI (WU-908)

```bash
pnpm wu:infer-lane
```

### wu:preflight

Fast validation of code_paths and test paths before gates run.

```bash
pnpm wu:preflight --id <wuId>
```

**Options:**

| Flag                          | Description                                                                      | Required |
| ----------------------------- | -------------------------------------------------------------------------------- | -------- |
| `-i, --id &lt;wuId&gt;`       | Work Unit ID (e.g., WU-123). If not provided, auto-generates next sequential ID. | Yes      |
| `-w, --worktree &lt;path&gt;` | Override worktree path                                                           | No       |

### wu:prep

Prepare WU for completion (run gates in worktree)

```bash
pnpm wu:prep --id <wuId>
```

**Options:**

| Flag                    | Description                                                                      | Required |
| ----------------------- | -------------------------------------------------------------------------------- | -------- |
| `-i, --id &lt;wuId&gt;` | Work Unit ID (e.g., WU-123). If not provided, auto-generates next sequential ID. | Yes      |
| `--docs-only`           | Run docs-only gates (format, spec-linter)                                        | No       |

### wu:proto

Create and claim a prototype WU with relaxed validation (rapid prototyping)

```bash
pnpm wu:proto --lane <lane> --title <title>
```

**Options:**

| Flag                          | Description                                              | Required |
| ----------------------------- | -------------------------------------------------------- | -------- |
| `-l, --lane &lt;lane&gt;`     | Lane name (e.g., "Operations: Tooling")                  | Yes      |
| `-t, --title &lt;title&gt;`   | Work Unit title                                          | Yes      |
| `--description &lt;text&gt;`  | WU description text (Context/Problem/Solution)           | No       |
| `--code-paths &lt;paths&gt;`  | Code paths (repeatable)                                  | No       |
| `--labels &lt;labels&gt;`     | Labels (repeatable)                                      | No       |
| `--assigned-to &lt;email&gt;` | Override assigned_to (defaults to git config user.email) | No       |

### wu:prune

WU Prune Utility

```bash
pnpm wu:prune
```

### wu:recover

Analyze and fix WU state inconsistencies (WU-1090)

```bash
pnpm wu:recover --id <wuId>
```

**Options:**

| Flag                    | Description                                                                      | Required |
| ----------------------- | -------------------------------------------------------------------------------- | -------- |
| `-i, --id &lt;wuId&gt;` | Work Unit ID (e.g., WU-123). If not provided, auto-generates next sequential ID. | Yes      |

### wu:release

Release an orphaned WU from in_progress back to ready state for reclaiming

```bash
pnpm wu:release --id <wuId> --reason <reason>
```

**Options:**

| Flag                          | Description                                                                      | Required |
| ----------------------------- | -------------------------------------------------------------------------------- | -------- |
| `-i, --id &lt;wuId&gt;`       | Work Unit ID (e.g., WU-123). If not provided, auto-generates next sequential ID. | Yes      |
| `-r, --reason &lt;reason&gt;` | Reason for action (required with --skip-gates, --override-owner)                 | Yes      |

### wu:repair

WU State Repair Tool (Unified - WU-1826, WU-2240)

```bash
pnpm wu:repair
```

### wu:spawn

Generate Task tool invocation for sub-agent WU execution

```bash
pnpm wu:spawn --id <wuId>
```

**Options:**

| Flag                       | Description                                                                      | Required |
| -------------------------- | -------------------------------------------------------------------------------- | -------- |
| `-i, --id &lt;wuId&gt;`    | Work Unit ID (e.g., WU-123). If not provided, auto-generates next sequential ID. | Yes      |
| `--thinking`               | Enable extended thinking for sub-agent WU execution                              | No       |
| `--no-thinking`            | Explicitly disable extended thinking (default behavior)                          | No       |
| `--budget &lt;tokens&gt;`  | Token budget for extended thinking (requires --thinking)                         | No       |
| `--codex`                  | Output a Codex/GPT-friendly Markdown prompt (instead of Claude Task antml)       | No       |
| `--parent-wu &lt;wuId&gt;` | Parent WU ID for orchestrator context (e.g., WU-1000)                            | No       |
| `--client &lt;client&gt;`  | Client name (claude-code, gemini-cli, etc)                                       | No       |
| `--vendor &lt;vendor&gt;`  | Deprecated alias for --client                                                    | No       |
| `--no-context`             | Skip memory context injection in spawn prompts                                   | No       |

### wu:status

Show WU status, location, and valid commands (WU-1090)

```bash
pnpm wu:status
```

### wu:unblock

Unblock a work unit and move it from blocked to in-progress status

```bash
pnpm wu:unblock --id <wuId>
```

**Options:**

| Flag                          | Description                                                                      | Required |
| ----------------------------- | -------------------------------------------------------------------------------- | -------- |
| `-i, --id &lt;wuId&gt;`       | Work Unit ID (e.g., WU-123). If not provided, auto-generates next sequential ID. | Yes      |
| `-r, --reason &lt;reason&gt;` | Reason for action (required with --skip-gates, --override-owner)                 | No       |
| `--create-worktree`           | Create worktree when unblocking                                                  | No       |
| `-w, --worktree &lt;path&gt;` | Override worktree path                                                           | No       |
| `-b, --branch &lt;branch&gt;` | Override branch name                                                             | No       |
| `--no-auto`                   | Skip auto-updating YAML/backlog/status                                           | No       |
| `-f, --force`                 | Force operation                                                                  | No       |

### wu:unlock-lane

Safely unlock a lane lock with audit logging

```bash
pnpm wu:unlock-lane
```

**Options:**

| Flag                          | Description                                                      | Required |
| ----------------------------- | ---------------------------------------------------------------- | -------- |
| `-l, --lane &lt;lane&gt;`     | Lane name (e.g., "Operations: Tooling")                          | No       |
| `-r, --reason &lt;reason&gt;` | Reason for action (required with --skip-gates, --override-owner) | No       |
| `-f, --force`                 | Force operation                                                  | No       |

### wu:validate

Validate WU YAML files against schema (strict mode by default, WU-1329)

```bash
pnpm wu:validate
```

**Options:**

| Flag                    | Description                                                                                                           | Required |
| ----------------------- | --------------------------------------------------------------------------------------------------------------------- | -------- |
| `-i, --id &lt;wuId&gt;` | Work Unit ID (e.g., WU-123). If not provided, auto-generates next sequential ID.                                      | No       |
| `--no-strict`           | Bypass strict validation (skip code_paths/test_paths existence checks, treat warnings as advisory). Logged when used. | No       |

---

## Next Steps

- [Configuration](/reference/config)  Configure LumenFlow
- [WU Schema](/reference/wu-schema)  Work Unit YAML structure
