---
title: Lanes
description: Parallel work streams with WIP limits
---

Lanes are parallel work streams that organize work by domain and prevent overload through WIP (Work-in-Progress) limits.

## Why Lanes?

Without lanes:

- Everything competes for attention
- Context switching kills productivity
- Bottlenecks form unpredictably

With lanes:

- Work is organized by domain
- Each lane has focused attention
- WIP limits prevent overload

## Defining Lanes

```yaml
# .lumenflow.config.yaml
lanes:
  - name: Core
    wip_limit: 1
    paths:
      - src/core/**
      - src/domain/**

  - name: UI
    wip_limit: 2
    paths:
      - src/components/**
      - src/pages/**

  - name: Infrastructure
    wip_limit: 1
    paths:
      - infra/**
      - .github/**

  - name: Documentation
    wip_limit: 1
    paths:
      - docs/**
```

## WIP Limits

WIP (Work-in-Progress) limits cap how many WUs can be active per lane.

| wip_limit | Meaning                       |
| --------- | ----------------------------- |
| 1         | One WU at a time (focused)    |
| 2         | Two parallel WUs (small team) |
| 3+        | Multiple parallel efforts     |

**Recommended:** Start with `wip_limit: 1` and increase only if needed.

### Why WIP Limits Matter

```
wip_limit: 5 (too high)
â†’ 5 things started, none finished
â†’ Context switching
â†’ Long cycle times

wip_limit: 1 (focused)
â†’ Finish one thing
â†’ Start the next
â†’ Steady flow
```

## Lane Selection

When claiming a WU, specify the lane:

```bash
pnpm wu:claim --id WU-042 --lane UI
```

The WU spec should already have a lane assignment:

```yaml
# WU-042.yaml
id: WU-042
title: Add email validation
lane: UI # â† Lane defined in spec
```

## Auto-Detection via Paths

LumenFlow can auto-detect lanes based on file paths:

```yaml
lanes:
  - name: Core
    paths:
      - src/core/**
```

If a WU's `code_paths` match, it's assigned to that lane.

## Multiple Lanes

A WU should belong to **one lane**. If work spans multiple domains:

1. **Split the WU** â€“ One WU per lane
2. **Choose primary** â€“ Assign to the most affected lane

### Example: Feature Spanning UI + Core

Instead of one WU:
âŒ "Add user preferences (UI + API + DB)"

Split into:
âœ… WU-100: "Add preferences API" (lane: Core)
âœ… WU-101: "Add preferences UI" (lane: UI)
âœ… WU-102: "Add preferences schema" (lane: Infrastructure)

## Visualizing Lanes

The backlog shows lane state:

```markdown
# Backlog

## ğŸš€ Ready

- [WU-103 â€” Add dark mode toggle](wu/WU-103.yaml) (lane: UI)

## ğŸ”§ In Progress

- [WU-101 â€” Add preferences UI](wu/WU-101.yaml) (lane: UI) â† 1/2 WIP
- [WU-100 â€” Add preferences API](wu/WU-100.yaml) (lane: Core) â† 1/1 WIP

## â›” Blocked

(none)
```

## Next Steps

- [Gates](/concepts/gates) â€“ Quality checks per lane
- [Team Workflow](/guides/team-workflow) â€“ Lane strategies for teams
