---
title: Quickstart
description: Get LumenFlow running in 5 minutes
---

import { Steps, Tabs, TabItem, Aside } from '@astrojs/starlight/components';

This guide gets you from zero to a working LumenFlow setup in under 5 minutes.

<Tabs>
  <TabItem label="Free (GitHub App Only)">

## Quick Setup (No CLI Required)

The fastest way to start using LumenFlow is with just the GitHub App.

<Steps>

1. **Install the GitHub App**

   Go to the [GitHub Marketplace](https://github.com/apps/lumenflow-gates) and click **Install**.
   Select your repository and authorize.

2. **Add configuration file**

   Create `.lumenflow.config.yaml` in your repo root:

   ```yaml
   version: '2.0'

   directories:
     wu_specs: docs/04-operations/tasks/wu
     stamps: .beacon/stamps

   lanes:
     enforcement:
       require_parent: true
       allow_custom: false
     definitions:
       - name: 'Framework: Core'
         wip_limit: 3
       - name: 'Operations: Infrastructure'
         wip_limit: 2

   gates:
     lint: npm run lint
     typecheck: npm run typecheck
     test: npm test
   ```

3. **Create the tasks directory**

   Create `docs/04-operations/tasks/backlog.md`:

   ```markdown
   # Backlog

   ## Ready

   - [WU-001 — My first task](wu/WU-001.yaml)

   ## In Progress

   ## Done
   ```

4. **Create your first Work Unit**

   Create `docs/04-operations/tasks/wu/WU-001.yaml`:

   ```yaml
   id: WU-001
   title: My first task
   lane: 'Framework: Core'
   type: feature
   status: ready
   priority: P2
   description: |
     A simple task to test LumenFlow.
   acceptance:
     - The feature works
   code_paths:
     - src/
   ```

   <Aside type="tip">
     Lane names must use the "Parent: Sublane" format (e.g., `Framework: Core`, `Operations:
     Infrastructure`). This is enforced by the `lanes.enforcement.require_parent` setting.
   </Aside>

5. **Open a Pull Request**

   Create a branch, make changes, and open a PR. The LumenFlow GitHub App will:
   - Validate your WU spec
   - Run your configured gates
   - Add status checks to the PR

</Steps>

<Aside>
  With the Free tier, you manage WU YAML files manually. The GitHub App handles PR validation and
  gate enforcement.
</Aside>

  </TabItem>
  <TabItem label="Pro (With CLI)">

## Full Setup with CLI

For the complete experience with automated workflows:

### Prerequisites

- Node.js 18+ or 22+
- pnpm (recommended) or npm
- A Git repository

<Steps>

1. **Install the CLI**

   <Tabs syncKey="pkg">
     <TabItem label="pnpm">```bash pnpm add -D @lumenflow/cli ```</TabItem>
     <TabItem label="npm">```bash npm install -D @lumenflow/cli ```</TabItem>
   </Tabs>

2. **Initialize LumenFlow**

   ```bash
   npx lumenflow init
   ```

   This creates (minimal):
   - `.lumenflow.config.yaml` – Your configuration
   - `LUMENFLOW.md` – Workflow entry point
   - `.lumenflow/constraints.md` – Non-negotiable constraints
   - `.lumenflow/agents/` – Vendor-agnostic agent guidance

   Optional:
   - `npx lumenflow init --full` – Add `docs/04-operations/tasks/` (backlog, status, templates)
   - `npx lumenflow init --framework nextjs` – Add framework hint + overlay docs

3. **Add scripts to package.json**

   ```json
   {
     "scripts": {
       "wu:create": "wu-create",
       "wu:claim": "wu-claim",
       "wu:done": "wu-done",
       "gates": "gates"
     }
   }
   ```

4. **Create your first Work Unit**

   ```bash
   npx wu-create \
     --id WU-001 \
     --title "Add user authentication" \
     --lane "Framework: Core" \
     --type feature \
     --exposure backend-only \
     --description "Implement user authentication with JWT" \
     --acceptance "Users can log in with email/password" \
     --acceptance "JWT tokens are issued on successful login" \
     --code-paths "src/auth/" \
     --test-paths-unit "src/auth/__tests__/"
   ```

5. **Claim and start work**

   ```bash
   npx wu-claim --id WU-001 --lane "Framework: Core"
   cd worktrees/framework-core-wu-001
   ```

</Steps>

### CLI Workflow

Once set up, your daily workflow is:

```bash
# 1. Claim a WU from the backlog
npx wu-claim --id WU-XXX --lane "Framework: Core"

# 2. Work in the worktree (isolated branch)
cd worktrees/framework-core-wu-xxx
# ... make changes ...

# 3. Run gates (checks your work)
npx gates

# 4. Complete the WU (merges to main, from repo root)
cd /path/to/repo
npx wu-done --id WU-XXX
```

<Aside type="caution">
  Always run `wu:done` from the main repository checkout, not from the worktree. The worktree is
  automatically cleaned up after completion.
</Aside>

  </TabItem>
</Tabs>

## Verify It's Working

After your first PR or `wu:done`, you should see:

- ✅ WU status changed to `done`
- ✅ Stamp file created in `.beacon/stamps/`
- ✅ PR checks pass (if using GitHub App)
- ✅ Backlog updated

## Sample Configuration

Here's a complete `.lumenflow.config.yaml` for reference:

```yaml
version: '2.0'

directories:
  wu_specs: docs/04-operations/tasks/wu
  backlog: docs/04-operations/tasks/backlog.md
  status: docs/04-operations/tasks/status.md
  stamps: .beacon/stamps

worktree_pattern: 'worktrees/{lane}-{wu_id}'

lanes:
  enforcement:
    require_parent: true # Lanes must be "Parent: Sublane" format
    allow_custom: false # Only predefined lanes allowed
  definitions:
    - name: 'Framework: Core'
      wip_limit: 3
      code_paths:
        - packages/core/**
    - name: 'Experience: UI'
      wip_limit: 2
      code_paths:
        - apps/web/**
        - packages/components/**
    - name: 'Operations: Infrastructure'
      wip_limit: 2
      code_paths:
        - .github/**
        - infra/**

gates:
  format: npx prettier --check .
  lint: npm run lint
  typecheck: npm run typecheck
  test: npm test

git:
  main_branch: main
```

## Next Steps

- [Install GitHub App](/getting-started/github-app) – PR validation and team enforcement
- [Work Units](/concepts/work-units) – Deep dive on WUs
- [Gates](/concepts/gates) – Understanding quality gates
- [Configuration](/reference/config) – Full config reference
