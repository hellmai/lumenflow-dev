name: 'LumenFlow Gates'
description: 'Config-driven quality gates - reads commands from .lumenflow.config.yaml'
author: 'HellmAI'

branding:
  icon: 'check-circle'
  color: 'green'

inputs:
  token:
    description: 'LumenFlow API token for usage tracking and tier validation'
    required: true
  working-directory:
    description: 'Working directory for running commands'
    required: false
    default: '.'
  skip-format:
    description: 'Skip format check'
    required: false
    default: 'false'
  skip-lint:
    description: 'Skip lint check'
    required: false
    default: 'false'
  skip-typecheck:
    description: 'Skip type check'
    required: false
    default: 'false'
  skip-test:
    description: 'Skip tests'
    required: false
    default: 'false'

outputs:
  preset-detected:
    description: 'The preset/config mode that was used'
  gates-passed:
    description: 'Whether all gates passed'

runs:
  using: 'node20'
  main: 'dist/index.js'
